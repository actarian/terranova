/**
 * @license more v1.0.0
 * (c) 2021 Luca Zampetti <lzampetti@gmail.com>
 * License: MIT
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("rxcomp"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define(["rxcomp","rxjs","rxjs/operators"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).rxcomp,t.rxjs,t.rxjs.operators)}(this,(function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var s={Clients:"clients",Group:"group",Suite:"suite",Tabs:"tabs",TextCenter:"textCenter",TextGraph:"textGraph",TextLeft:"textLeft",TextMap:"textMap",TextRight:"textRight",TextTwoCols:"textTwoCols",Welcome:"welcome"},l=[{id:1,template:s.Welcome,name:"Welcome"},{id:2,template:s.Group,name:"Chi Siamo",items:[{id:21,template:s.TextCenter,name:"Chi Siamo",title:"Chi Siamo"},{id:22,template:s.TextLeft,name:"Core Values",title:"Core Values",abstract:"<p>I nostri Core Value tramandano la nostra cultura e definiscono il carattere della nostra Azienda.</p><p>Ogni giorno guidano il modo in cui ci comportiamo e con cui prendiamo decisioni.</p>",image:"img/slides/slide-2-1.jpg",list:[{title:"Tenacia"},{title:"Centralità della Persona"},{title:"Integrità"},{title:"Qualità del Prodotto"},{title:"Responsabilità"}]},{id:23,template:s.TextCenter,name:"La nostra mission",title:"La nostra mission",abstract:"Aiutare i nostri Clienti con Soluzioni di elevata qualità, che superino gli standard di mercato e creino valore nel tempo.",image:"img/slides/slide-2-2.jpg"},{id:24,template:s.TextCenter,name:"La nostra vision",title:"La nostra vision",abstract:"Diventare uno dei Leader del mercato, fornendo prodotti flessibili e integrati che anticipano le esigenze dei nostri Clienti sfruttando lo straordinario know how delle nostre persone.",image:"img/slides/slide-2-3.jpg"},{id:25,template:s.TextGraph,name:"Persone",title:"Persone",abstract:"Il nostro Presente ed il nostro Futuro.",description:"<p>330 risorse in 10 sedi lavorano insieme per sviluppare e migliorare il prodotto leader per le aziende di Distribuzione e Vendita di Gas ed Energia Elettrica, per il Servizio Idrico, per l’Ambiente e in progetti di Smart Network.</p><p>248 area tecnica funzionale.</p><p>82 management e staff.</p>",graph:{data:[{name:"2009",value:25},{name:"2010",value:39},{name:"2011",value:69},{name:"2012",value:85},{name:"2013",value:97},{name:"2014",value:111},{name:"2015",value:125},{name:"2016",value:220},{name:"2017",value:250},{name:"2018",value:260},{name:"2019",value:305},{name:"2020",value:330}],format:"%"}},{id:26,template:s.TextGraph,name:"Fatturato",title:"La crescita",abstract:"Negli ultimi anni, Terranova ha avuto una crescita costante sia in fatturato che in numero di risorse.",description:"<p>Fatturato di oltre € 41 milioni<br>con Ambiente.it e Arcoda per l’anno fiscale 2020.</p>",graph:{data:[{name:"2010",value:6},{name:"2011",value:9},{name:"2012",value:11},{name:"2013",value:12},{name:"2014",value:13},{name:"2015",value:16},{name:"2016",value:20},{name:"2017",value:27},{name:"2018",value:29},{name:"2019",value:36},{name:"2020",value:41}],format:"%M"}},{id:27,template:s.TextMap,name:"Le Sedi",title:"Le Sedi",abstract:"Presenti in Italia, Cina, Regno Unito e Uzbekistan.",image:"img/slides/slide-2-6.png",pins:[{x:184/1920*100,y:553/1110*100,title:"Regno Unito",abstract:"Birmingham"},{x:20.15625,y:751/1110*100,title:"Italia",abstract:"HQ Firenze, Grosseto, Milano, Verona, Roma, Trento, Mestre"},{x:1102/1920*100,y:748/1110*100,title:"Uzbekistan",abstract:"Tashkent"},{x:1612/1920*100,y:966/1110*100,title:"China",abstract:"Shangai"}]},{id:28,template:s.TextRight,name:"obiettivi futuri",title:"obiettivi futuri",abstract:"Continuo sviluppo della competenza multidisciplinare, del supporto normativo e l’automazione e digitalizzazione dei processi.",description:"<p>Gli obiettivi sono fornire al mercato soluzioni software complete (end to end) dedicate al mercato della Distribuzione (quali la Misura, lo Smart Metering, il Settlement, la Work Force Management, attività di Back Office) e della Vendita.</p><p>Nuovi investimenti in tecnologie per lo sviluppo di progetti di Smart Metering, Smart Grid e Smart City.</p>",image:"img/slides/slide-2-7.jpg",list:[{title:"Misura"},{title:"Settlement"},{title:"Work force Management"},{title:"Crm & Billing"},{title:"Smart Metering"},{title:"Smart grid"},{title:"Smart City"}]}]},{id:3,template:s.Group,name:"I Partner",items:[{id:31,template:s.TextCenter,name:"I partner",title:"I partner"},{id:32,template:s.TextMap,name:"Pietro Fiorentini",logo:"img/loghi/partners/pietro-fiorentini.png",title:"È partner di Terranova dal 2011",abstract:"385€ Millioni di fatturato 74€ Millioni EBITDA.",image:"img/slides/slide-4.png",pins:[]},{id:32,template:s.TextCenter,name:"Arcoda",title:"Terranova è partner di Arcoda",abstract:"di cui detiene il 60% del capitale",logo:"img/loghi/partners/arcoda.png",description:"Arcoda sviluppa soluzioni tecnologiche vincenti, progettate per chi è chiamato a gestire quotidianamente forza lavoro sul territorio.",list:[{title:"Tenacia"}]},{id:32,template:s.TextCenter,name:"Ambiente.it",title:"Terranova è partner di Ambiente.it",abstract:"di cui detiene il 60% del capitale",logo:"img/loghi/partners/ambiente.it.png",description:"<p>Ambiente.it da quasi trent’anni sviluppa software gestionali ed eroga servizi professionali per la filiera dei rifiuti speciali e urbani.</p><p>Si propone al mercato con un servizio completo per la informatizzazione gestionale di tutte le problematiche ambientali, offrendo ai propri clienti soluzioni software, informazione, formazione, consulenza e assistenza.</p><p>Ambiente.it supporta oltre mille clienti in tutta Italia; è presente in grandi realtà industriali così come nei Consorzi e nelle Utility di igiene urbana, ed in centinaia di medie e piccole imprese in tutta Italia, con migliaia di utenti che utilizzano giornalmente i suoi software.</p>",list:[{title:"Tenacia"}]}]},{id:4,template:s.Group,name:"Soluzioni",items:[{id:41,template:s.TextCenter,name:"Soluzioni",title:"Soluzioni"},{id:42,template:s.Tabs,name:"Distribuzione",items:[{id:421,template:s.TextLeft,name:"Distribuzione",title:"Distribuzione",abstract:"Il settore storico di Terranova, che la vede primeggiare a livello internazionale con un’importante quota di mercato.",description:"Negli ultimi anni, inoltre, Terranova ha investito ingenti risorse nello sviluppo di soluzioni a supporto dell’area operations, delle attività di manutenzione, della cartografia e dell’automazione delle squadre di lavoro (Work Force Automation)."},{id:422,template:s.Suite,name:"Suite Reti",title:"Suite Reti",suite:[{title:"Suite Reti",logo:"img/logos/suite-reti-1.png",items:[{x:0,y:0,color:"#ffffff",title:"Reti Acqua",logo:"img/logos/suite-reti-1-1.png"},{x:0,y:0,color:"#ffffff",title:"Reti Wfa",logo:"img/logos/suite-reti-1-2.png"},{x:0,y:0,color:"#ffffff",title:"Reti Energia",logo:"img/logos/suite-reti-1-3.png"}]}]},{id:423,template:s.Clients,name:"Clienti",title:"Clienti",abstract:"Le nostre referenze",clients:[{title:"Acsm Agam",logo:"img/suite/reti/clienti/acsm agam.png"},{title:"Adrigas",logo:"img/suite/reti/clienti/adrigas.png"},{title:"Aemme Linea Distribuzione",logo:"img/suite/reti/clienti/aemme-linea-distribuzione.png"},{title:"Amag Reti Gas",logo:"img/suite/reti/clienti/amag reti gas.png"},{title:"Amc",logo:"img/suite/reti/clienti/amc.png"},{title:"AP Reti Gas Nordest",logo:"img/suite/reti/clienti/ap reti gas nordest.png"},{title:"AP Reti Gas Rovigo",logo:"img/suite/reti/clienti/ap reti gas rovigo.png"},{title:"AP Reti Gas Vicenza",logo:"img/suite/reti/clienti/ap reti gas vicenza.png"},{title:"AP Reti Gas",logo:"img/suite/reti/clienti/ap reti gas.png"},{title:"Aquamet",logo:"img/suite/reti/clienti/aquamet.png"},{title:"Asm Vigevano",logo:"img/suite/reti/clienti/asm vigevano.png"},{title:"Asmt",logo:"img/suite/reti/clienti/asmt.png"},{title:"Atr",logo:"img/suite/reti/clienti/atr.png"},{title:"Azienda Energetica Valtellina Valchiavenna",logo:"img/suite/reti/clienti/azienda energetica valtellina valchiavenna.png"},{title:"Blu Reti Gas",logo:"img/suite/reti/clienti/blu reti gas.png"},{title:"Cbl Distribuzione Srl",logo:"img/suite/reti/clienti/cbl distribuzione srl.png"},{title:"Centria Reti Gas",logo:"img/suite/reti/clienti/centria reti gas.png"},{title:"Cosvim",logo:"img/suite/reti/clienti/cosvim.png"},{title:"Cps",logo:"img/suite/reti/clienti/cps.png"},{title:"Dea Distribuzione Elettrica Adriatica",logo:"img/suite/reti/clienti/dea distribuzione elettrica adriatica.png"},{title:"Dgn",logo:"img/suite/reti/clienti/dgn.png"},{title:"E-Dyna",logo:"img/suite/reti/clienti/e-dyna.png"},{title:"E",logo:"img/suite/reti/clienti/e.png"},{title:"Edilgas",logo:"img/suite/reti/clienti/edilgas.png"},{title:"Edma Reti Gas",logo:"img/suite/reti/clienti/edma reti gas.png"},{title:"Gei",logo:"img/suite/reti/clienti/gei.png"},{title:"Gigas Rete",logo:"img/suite/reti/clienti/gigas rete.png"},{title:"Gp Infrastrutture",logo:"img/suite/reti/clienti/gp infrastrutture.png"},{title:"Gruppo Erogasmet",logo:"img/suite/reti/clienti/gruppo erogasmet.png"},{title:"Gruppo Gesam",logo:"img/suite/reti/clienti/gruppo gesam.png"},{title:"Infrastrutture Distribuzione Gas",logo:"img/suite/reti/clienti/infrastrutture distribuzione gas.png"},{title:"IReti",logo:"img/suite/reti/clienti/ireti.png"},{title:"Linea Ri",logo:"img/suite/reti/clienti/linea ri.png"},{title:"M Reti",logo:"img/suite/reti/clienti/m reti.png"},{title:"Mediterranea",logo:"img/suite/reti/clienti/mediterranea.png"},{title:"Megareti",logo:"img/suite/reti/clienti/megareti.png"},{title:"Meta Edil",logo:"img/suite/reti/clienti/meta edil.png"},{title:"Mn",logo:"img/suite/reti/clienti/mn.png"},{title:"Pescara Distribuzione Gas",logo:"img/suite/reti/clienti/pescara distribuzione gas.png"},{title:"Prealpi Gas",logo:"img/suite/reti/clienti/prealpi gas.png"},{title:"Reti Distribuzione",logo:"img/suite/reti/clienti/reti distribuzione.png"},{title:"Reti Metano Territorio",logo:"img/suite/reti/clienti/reti metano territorio.png"},{title:"Reti Più",logo:"img/suite/reti/clienti/reti-più.png"},{title:"Salerno Energia Holding",logo:"img/suite/reti/clienti/salerno energia holding.png"},{title:"Sar",logo:"img/suite/reti/clienti/sar.png"},{title:"Società Impianti Metano",logo:"img/suite/reti/clienti/società impianti metano.png"},{title:"Stadtwerke Asm",logo:"img/suite/reti/clienti/stadtwerke asm.png"},{title:"Tea Sei",logo:"img/suite/reti/clienti/tea sei.png"},{title:"Tecniconsul",logo:"img/suite/reti/clienti/tecni consul.png"}]}]},{id:43,template:s.Tabs,name:"Smart Network",items:[{id:431,template:s.TextTwoCols,name:"Smart Network",title:"Smart Network",abstract:"Attraverso l’utilizzo congiunto di varie tecnologie, Terranova offre alle aziende di distribuzione uno strumento completo che supporti tutti i processi connessi allo <b>Smart Metering</b> e <b>Smart Grid</b>.",description:"<p>Da quelle imposte o incentivate dalla costante regolamentazione dell’Autorità di settore a quelle di gestione dell’infrastruttura, dei dispositivi e dei dati.</p><p>Dopo una prima fase in cui ha supportato la propria clientela nell’implementazione di progetti di Smart Metering nei settori gas, acqua ed elettrico Terranova adesso è pronta ad affrontare la nuova sfida dello Smart Metering di seconda generazione in avvio nel settore elettrico.</p><p>In ambito Smart Grid sono state sviluppate soluzioni per i settori gas ed acqua per la digitalizzazione della rete finalizzata all’efficienza operativa e alla sostenibilità ambientale.</p><p>Negli ultimi anni, inoltre, Terranova ha investito ingenti risorse nello sviluppo di soluzioni a supporto dell’area operations, delle attività di manutenzione, della cartografia e dell’automazione delle squadre di lavoro (Work Force Automation).</p>"}]},{id:44,template:s.Tabs,name:"Vendita",items:[{id:431,template:s.TextLeft,name:"Vendita",title:"Vendita",abstract:"Terranova supporta società di Vendita, retail ed i grossisti, con una soluzione completa per CRM e Billing.",description:"La nostra suite per il Mercato della Vendita ha un obiettivo chiaro e concreto: individuare sempre nuove soluzioni e strumenti digitali per consentire ai nostri Clienti di differenziarsi dai propri competitors. Una condizione necessaria per rispondere alle dinamiche di un mercato in movimento continuo."}]},{id:45,template:s.Tabs,name:"Settore Idrico",items:[{id:431,template:s.TextLeft,name:"Settore Idrico",title:"Settore Idrico",abstract:"La soluzione per gli operatori del Settore Idrico per soddisfare le necessità di efficienza e supporto simultaneo dei processi di Distribuzione e di Vendita di acqua.",list:[{title:"Completezza e specializzazione"},{title:"Efficienza operativa"},{title:"Efficacia tecnica"},{title:"Compliancy"},{title:"Flessibilità ed adattabilità"},{title:"Attenzione per l’utente"}]}]},{id:46,template:s.Tabs,name:"Gestione Ambientale",items:[{id:431,template:s.TextLeft,name:"Gestione Ambientale",title:"Gestione Ambientale",abstract:"Una gamma completa di soluzioni software per soddisfare le esigenze di tutta la filiera della gestione dei rifiuti.",description:"<p>La suite ECOS è una collana di moduli software, sempre aggiornati secondo le normative vigenti, progettata per l’informatizzazione dei processi gestionali di tutte le aziende della filiera ambientale.</p>"}]}]},{id:5,template:s.TextMap,name:"Clienti",title:"Clienti",abstract:"I nostri principali Clienti nel Mondo",image:"img/slides/slide-4.png",pins:[{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"Acsm Agam",logo:"img/suite/reti/clienti/acsm agam.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"Adrigas",logo:"img/suite/reti/clienti/adrigas.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"Aemme Linea Distribuzione",logo:"img/suite/reti/clienti/aemme-linea-distribuzione.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"Amag Reti Gas",logo:"img/suite/reti/clienti/amag reti gas.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"Amc",logo:"img/suite/reti/clienti/amc.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"AP Reti Gas Nordest",logo:"img/suite/reti/clienti/ap reti gas nordest.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"AP Reti Gas Rovigo",logo:"img/suite/reti/clienti/ap reti gas rovigo.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"AP Reti Gas Vicenza",logo:"img/suite/reti/clienti/ap reti gas vicenza.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"AP Reti Gas",logo:"img/suite/reti/clienti/ap reti gas.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"Aquamet",logo:"img/suite/reti/clienti/aquamet.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"Asm Vigevano",logo:"img/suite/reti/clienti/asm vigevano.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"Asmt",logo:"img/suite/reti/clienti/asmt.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"Atr",logo:"img/suite/reti/clienti/atr.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"Azienda Energetica Valtellina Valchiavenna",logo:"img/suite/reti/clienti/azienda energetica valtellina valchiavenna.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"Blu Reti Gas",logo:"img/suite/reti/clienti/blu reti gas.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"Cbl Distribuzione Srl",logo:"img/suite/reti/clienti/cbl distribuzione srl.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"Centria Reti Gas",logo:"img/suite/reti/clienti/centria reti gas.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"Cosvim",logo:"img/suite/reti/clienti/cosvim.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"Cps",logo:"img/suite/reti/clienti/cps.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"Dea Distribuzione Elettrica Adriatica",logo:"img/suite/reti/clienti/dea distribuzione elettrica adriatica.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"Dgn",logo:"img/suite/reti/clienti/dgn.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"E-Dyna",logo:"img/suite/reti/clienti/e-dyna.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"E",logo:"img/suite/reti/clienti/e.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"Edilgas",logo:"img/suite/reti/clienti/edilgas.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"Edma Reti Gas",logo:"img/suite/reti/clienti/edma reti gas.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"Gei",logo:"img/suite/reti/clienti/gei.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"Gigas Rete",logo:"img/suite/reti/clienti/gigas rete.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"Gp Infrastrutture",logo:"img/suite/reti/clienti/gp infrastrutture.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"Gruppo Erogasmet",logo:"img/suite/reti/clienti/gruppo erogasmet.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"Gruppo Gesam",logo:"img/suite/reti/clienti/gruppo gesam.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"Infrastrutture Distribuzione Gas",logo:"img/suite/reti/clienti/infrastrutture distribuzione gas.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"IReti",logo:"img/suite/reti/clienti/ireti.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"Linea Ri",logo:"img/suite/reti/clienti/linea ri.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"M Reti",logo:"img/suite/reti/clienti/m reti.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"Mediterranea",logo:"img/suite/reti/clienti/mediterranea.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"Megareti",logo:"img/suite/reti/clienti/megareti.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"Meta Edil",logo:"img/suite/reti/clienti/meta edil.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"Mn",logo:"img/suite/reti/clienti/mn.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"Pescara Distribuzione Gas",logo:"img/suite/reti/clienti/pescara distribuzione gas.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"Prealpi Gas",logo:"img/suite/reti/clienti/prealpi gas.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"Reti Distribuzione",logo:"img/suite/reti/clienti/reti distribuzione.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"Reti Metano Territorio",logo:"img/suite/reti/clienti/reti metano territorio.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"Reti Più",logo:"img/suite/reti/clienti/reti-più.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"Salerno Energia Holding",logo:"img/suite/reti/clienti/salerno energia holding.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"Sar",logo:"img/suite/reti/clienti/sar.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"Società Impianti Metano",logo:"img/suite/reti/clienti/società impianti metano.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"Stadtwerke Asm",logo:"img/suite/reti/clienti/stadtwerke asm.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"Tea Sei",logo:"img/suite/reti/clienti/tea sei.png"},{x:1920*Math.random()/1920*100,y:(400+710*Math.random())/1110*100,title:"Tecniconsul",logo:"img/suite/reti/clienti/tecni consul.png"}]}],u=function(){function t(){}return t.has=function(t){return new URLSearchParams(window.location.search).has(t)},t.get=function(t){return new URLSearchParams(window.location.search).get(t)},t.set=function(t,e){var n=new URLSearchParams(window.location.search);"string"==typeof t?n.set(t,e):n.set(t,""),this.pushState(n)},t.pushState=function(t,e){if(window.history&&window.history.pushState){var n=document.title,i=""+window.location.origin+window.location.pathname+(t?"?"+t.toString():"")+(e?"#"+e:""),r=t?t.toString():e?{slug:e}:null;window.history.pushState(r,n,i),console.log("pushState",t,e,r,n,i)}},t.replaceState=function(t,e){if(window.history&&window.history.replaceState){var n=document.title,i=""+window.location.origin+window.location.pathname+(t?"?"+t.toString():"")+(e?"#"+e:""),r=t?t.toString():e?{slug:e}:null;window.history.replaceState(r,n,i)}},t.deserialize=function(t){var e=this.get("params");return this.decode(t,e)},t.serialize=function(t,e){var n=this.deserialize(),i=this.encode(t,e,n);this.set("params",i)},t.decode=function(t,e){var n=null;if(e){var i=window.atob(e);n=JSON.parse(i)}return t&&n&&(n=n[t]),n||null},t.encode=function(t,e,n){n=n||{};"string"==typeof t?n[t]=e:n=t;var i=JSON.stringify(n);return window.btoa(i)},t.toSlug=function(t){return t.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-")},t.onPopState=function(t){return function(t){window.history.pushState(null,"",window.location.href),window.onpopstate=function(){window.history.pushState(null,"",window.location.href),t()}}(t)},t}(),c=function(){function t(){}return t.data$=function(){var t=this;return e.of(l).pipe(n.map((function(e){return t.setSlugs(e)})))},t.setSlugs=function(t,e,n){var i=this;return void 0===e&&(e=""),void 0===n&&(n=""),t.forEach((function(t){t.slug=e+"/"+u.toSlug(t.name),t.documentTitle=n+(""!==n?" - ":"")+t.name,t.items&&i.setSlugs(t.items,t.slug,t.documentTitle)})),t},t}(),d=function(){function t(){}return t.keydown$=function(){return this.keydown$_||(this.keydown$_=e.fromEvent(window,"keydown").pipe(n.shareReplay(1))),this.keydown$_},t.keyup$=function(){return this.keyup$_||(this.keyup$_=e.fromEvent(window,"keyup").pipe(n.shareReplay(1))),this.keyup$_},t.keys$=function(){var t=this;return this.keys$_||(this.keys$_=e.merge(this.keydown$(),this.keyup$()).pipe(n.map((function(e){var n=t.keys;return n.originalEvent=e,"keydown"===e.type?n[e.code]=!0:delete n[e.code],t.keys})),n.startWith(this.keys),n.shareReplay(1))),this.keys$_},t.key$=function(){if(!this.key$_){var t=/\w/;this.key$_=this.keydown$().pipe(n.filter((function(e){return e.key&&e.key.match(t)})),n.map((function(t){return t.key})),n.shareReplay(1))}return this.key$_},t.typing$=function(){if(!this.typing$_){var t,e="";this.typing$_=this.key$().pipe(n.map((function(n){return t&&clearTimeout(t),e+=n,t=setTimeout((function(){e=""}),1500),e})),n.shareReplay(1))}return this.typing$_},t}();a(d,"keys",{});var h=function(){this.x=0,this.y=0},p=function(t){t&&Object.assign(this,t)},f=function(t){function e(e){var n;return(n=t.call(this,e)||this).distance=new h,n.strength=new h,n.speed=new h,n}return o(e,t),e}(p),m=function(t){function e(e){var n;return(n=t.call(this,e)||this).distance=new h,n.strength=new h,n.speed=new h,n}return o(e,t),e}(p),g=function(t){function e(e){return t.call(this,e)||this}return o(e,t),e}(p),v=function(){function t(){}return t.getPosition=function(t,e){return t instanceof MouseEvent?e?(e.x=t.clientX,e.y=t.clientY):e={x:t.clientX,y:t.clientY}:t instanceof TouchEvent&&t.touches.length>0&&(e?(e.x=t.touches[0].pageX,e.y=t.touches[0].pageY):e={x:t.touches[0].pageX,y:t.touches[0].pageY}),e},t.down$=function(t,i){var r,a=this;return e.merge(e.fromEvent(t,"mousedown"),e.fromEvent(t,"touchstart")).pipe(n.map((function(e){if((r=r||new f).node=t,r.target=e.target,r.originalEvent=e,r.down=a.getPosition(e,r.down),r.down)return r.distance=new h,r.strength=new h,r.speed=new h,i.next(r),r})),n.filter((function(t){return void 0!==t})))},t.move$=function(i,r,a,o,s){var l,u=this;return e.fromEvent(document,o.originalEvent instanceof MouseEvent?"mousemove":"touchmove").pipe(n.startWith(o),n.map((function(t){if((l=l||new m).node=i,l.target=t.target,l.originalEvent=t,l.position=u.getPosition(t,l.position),void 0!==o.down&&void 0!==l.position)return l.distance.x=l.position.x-o.down.x,l.distance.y=l.position.y-o.down.y,l.strength.x=l.distance.x/window.innerWidth*2,l.strength.y=l.distance.y/window.innerHeight*2,l.speed.x=o.speed.x+.1*(l.strength.x-o.strength.x),l.speed.y=o.speed.y+.1*(l.strength.y-o.strength.y),o.distance.x=l.distance.x,o.distance.y=l.distance.y,o.speed.x=l.speed.x,o.speed.y=l.speed.y,o.strength.x=l.strength.x,o.strength.y=l.strength.y,r.next(l),l})),n.filter((function(e){return null==s||!e||("vertical"===s&&Math.abs(e.distance.y)>20||"horizontal"===s&&Math.abs(e.distance.x)>20?(t.current$.next(i),e.originalEvent.stopImmediatePropagation(),!0):void 0)})))},t.up$=function(t,i,r,a,o){var s,l=this;return e.fromEvent(document,a.originalEvent instanceof MouseEvent?"mouseup":"touchend").pipe(n.map((function(t){return s=s||new g,i.next(s),r.next(),l.current$.next(null),"vertical"===o?Math.abs(a.distance.y)>10&&(t.preventDefault(),t.stopImmediatePropagation()):Math.abs(a.distance.x)>10&&(t.preventDefault(),t.stopImmediatePropagation()),s})))},t.concurrent$=function(e,i,r,a,o){var s;return t.current$.pipe(n.filter((function(t){return null!=t&&t!==e})),n.map((function(t){return s=s||new g,i.next(s),r.next(),s})))},t.events$=function(t,i){var r=this;t=t||document;var a=new e.ReplaySubject(1),o=new e.Subject;return this.down$(t,a).pipe(n.switchMap((function(s){return e.merge(r.move$(t,a,o,s,i),r.up$(t,a,o,s,i),r.concurrent$(t,a,o,s,i)).pipe(n.takeUntil(o))})),n.switchMap((function(){return a})))},t.isChildOf=function(t,e){for(var n=e?e.parentNode:null;null!=n;){if(n===t)return!0;n=n.parentNode}return!1},t}();a(v,"current$",new e.ReplaySubject(1));var y=function(){function t(){}return t.observer=function(){var t=this;return this.observer_||(this.readySubject_=new e.BehaviorSubject(!1),this.observerSubject_=new e.Subject,this.observer_=new IntersectionObserver((function(e){t.observerSubject_.next(e)}))),this.observer_},t.intersection$=function(t){if("IntersectionObserver"in window){var i=this.observer();return i.observe(t),this.observerSubject_.pipe(n.map((function(e){return e.find((function(e){return e.target===t}))})),n.filter((function(t){return void 0!==t})),n.finalize((function(){return i.unobserve(t)})))}return e.of({target:t,isIntersecting:!0})},t.firstIntersection$=function(t){return this.intersection$(t).pipe(n.filter((function(t){return t.isIntersecting})),n.first())},t}(),w=0,b=1,x=2,_=function(i){function a(){return i.apply(this,arguments)||this}o(a,i);var s=a.prototype;return s.getCurrent=function(){return this.state||(this.state={current:0}),this.state.current},s.setCurrent=function(t){void 0===t&&(t=0),this.state||(this.state={current:0}),this.container?this.state.current!==t&&(this.state.current=t,this.change.next(t)):this.state={current:t}},s.onActivate=function(){this.checkAutoplay()},s.onDeactivate=function(){this.userGesture=!1,this.disableAutoplay()},s.onInit=function(){var i,r=this,o=t.getContext(this).node;this.container=o,this.wrapper=o.querySelector(".slider__wrapper"),this.vertical?this.wrapper.classList.add(".slider__wrapper--vertical"):this.wrapper.classList.add(".slider__wrapper--horizontal"),i=o.hasAttribute("[items]")?this.items||[]:Array.prototype.slice.call(o.querySelectorAll(".slider__slide")),this.items=i,this.state.current=this.resolveInitialIndex(),this.userGesture=!1,setTimeout((function(){r.slider$().pipe(n.takeUntil(r.unsubscribe$)).subscribe((function(t){}))}),1),this.changed$().pipe(n.takeUntil(this.unsubscribe$)).subscribe(),this.intersect$(o).pipe(n.takeUntil(this.unsubscribe$)).subscribe(),"number"==typeof this.focusAutoplay&&e.merge(this.resize$(),this.over$(o),this.leave$(o)).pipe(n.takeUntil(this.unsubscribe$)).subscribe(),this.wheel$(o).pipe(n.takeUntil(this.unsubscribe$)).subscribe(),d.keys$().pipe(n.filter((function(t){return r.isVisible&&!a.disabled})),n.takeUntil(this.unsubscribe$)).subscribe((function(t){r.vertical?t.ArrowDown?r.hasNext()&&r.navTo(r.current+1):t.ArrowUp&&r.hasPrev()&&r.navTo(r.current-1):t.ArrowRight?r.hasNext()&&r.navTo(r.current+1):t.ArrowLeft&&r.hasPrev()&&r.navTo(r.current-1)})),setTimeout((function(){r.setActiveState()}),500),this.init.next(this)},s.resolveInitialIndex=function(){return 0},s.changed$=function(){var t=this;return this.change.pipe(n.tap((function(){t.setActiveState(),t.checkAutoplay()})))},s.intersect$=function(t){var e=this;return y.intersection$(t).pipe(n.tap((function(t){return e.active=t.isIntersecting&&t.intersectionRatio>0})))},s.wheel$=function(t){var i=this;return e.fromEvent(t,"wheel",{capture:!1,passive:!1}).pipe(n.tap((function(t){t.deltaY>0?i.hasNext()&&(t.preventDefault(),t.stopImmediatePropagation()):i.hasPrev()&&(t.preventDefault(),t.stopImmediatePropagation())})),n.filter((function(t){return i.isVisible})),n.throttleTime(1e3),n.tap((function(t){t.deltaY>0?i.hasNext()&&i.navTo(i.current+1):i.hasPrev()&&i.navTo(i.current-1)})))},s.resize$=function(){var t=this;return e.fromEvent(window,"resize").pipe(n.tap((function(){return t.mobile=window.innerWidth<768})))},s.over$=function(t){var i=this;return e.fromEvent(t,"mouseover").pipe(n.tap((function(){return i.over=!0})))},s.leave$=function(t){var i=this;return e.fromEvent(t,"mouseleave").pipe(n.tap((function(){return i.over=!1})))},s.setActiveState=function(){var e=this.current,n=t.getContext(this).node.firstElementChild.firstElementChild;Array.prototype.slice.call(n.children).forEach((function(t,n){n===e?t.classList.add("active"):t.classList.remove("active")}))},s.checkAutoplay=function(){var e=this;this.disableAutoplay();var n=w,i=0;if("number"==typeof this.autoplay&&(i=this.autoplay,n=b),"number"==typeof this.focusAutoplay&&(i=this.focusAutoplay,n=x),n!==w){var r=this.current,a=t.getContext(this).node,o=Array.prototype.slice.call(a.querySelectorAll(".slider__slide"))[r];if(o){var s=o.querySelector("video");if(s){s.addEventListener("ended",(function t(){s.removeEventListener("ended",t),(n===b&&e.active_||n===x&&(e.mobile_&&e.active_||!e.mobile_&&e.over_))&&(e.setCurrent((r+1)%e.items.length),e.pushChanges())})),s.play()}else(n===b&&this.active_&&!this.userGesture||n===x&&(this.mobile_&&this.active_||!this.mobile_&&this.over_))&&(this.to=setTimeout((function(){e.setCurrent((r+1)%e.items.length),e.pushChanges()}),i))}}},s.disableAutoplay=function(){this.to&&(clearTimeout(this.to),this.to=null);var e=t.getContext(this).node;Array.prototype.slice.call(e.querySelectorAll("video")).forEach((function(t){t.paused||t.pause()}))},s.checkFocusAutoplay=function(){this.mobile_?this.active_?this.checkAutoplay():this.disableAutoplay():this.over_?(this.setCurrent((this.current+1)%this.items.length),this.pushChanges()):this.disableAutoplay()},s.slider$=function(){var t,e,i,r=this;return v.events$(this.wrapper,this.vertical?"vertical":"horizontal").pipe(n.tap((function(n){n instanceof f?(t=r.getTranslation(r.wrapper,r.container),e=n):n instanceof m?i=r.onDragMoveEvent(e,n,t):n instanceof g&&i&&(r.container.classList.remove("dragging"),r.wrapper.style.transform=null,r.onDragUpEvent(e,i,n))})))},s.onDragMoveEvent=function(t,e,n){if(this.container.classList.add("dragging"),this.vertical){var i=n.y+e.distance.y;this.wrapper.style.transform="translate3d(0px, "+i+"px, 0px)"}else{var r=n.x+e.distance.x;this.wrapper.style.transform="translate3d("+r+"px, 0px, 0px)"}return e},s.onDragUpEvent=function(t,e,n){if(this.vertical){var i=this.container.offsetHeight;-1*e.distance.y>.25*i&&this.hasNext()?this.navTo(this.current+1):-1*e.distance.y<-.25*i&&this.hasPrev()?this.navTo(this.current-1):this.wrapper.style.transform="translate3d(0, "+-100*this.current+"%, 0)"}else{var r=this.container.offsetWidth;-1*e.distance.x>.25*r&&this.hasNext()?this.navTo(this.current+1):-1*e.distance.x<-.25*r&&this.hasPrev()?this.navTo(this.current-1):this.wrapper.style.transform="translate3d("+-100*this.current+"%, 0, 0)"}},s.navTo=function(t,e){t=(t>0?t:this.items.length+t)%this.items.length,this.immediate=e,this.setCurrent(t),this.userGesture=!0,this.pushChanges(),this.immediate=!1},s.hasPrev=function(){return this.current-1>=0},s.hasNext=function(){return this.current+1<this.items.length},s.getTranslation=function(t,e){var n=0,i=0,r=0,a=t.style.transform;if(a){var o=a.split("(")[1].split(")")[0].split(",");n=parseFloat(o[0]),i=parseFloat(o[1]),r=parseFloat(o[2]),n=-1!==o[0].indexOf("%")?n*=.01*e.offsetWidth:n,i=-1!==o[1].indexOf("%")?i*=.01*e.offsetHeight:i}return{x:n,y:i,z:r}},r(a,[{key:"state",get:function(){return this.state_||(this.state_={current:0}),this.state_}},{key:"current",get:function(){return this.getCurrent()},set:function(t){this.setCurrent(t)}},{key:"isVisible",get:function(){var e=t.getContext(this).node.getBoundingClientRect();return e.left<window.innerWidth&&e.right>0&&e.top<window.innerHeight&&e.bottom>0}},{key:"wrapperStyle",get:function(){return this.vertical?{transform:"translate3d(0, "+-100*this.current+"%, 0)"}:{transform:"translate3d("+-100*this.current+"%, 0, 0)"}}},{key:"innerStyle",get:function(){return this.vertical?{height:100*this.items.length+"%"}:{width:100*this.items.length+"%"}}},{key:"active",get:function(){return this.active_},set:function(t){this.active_!==t&&(this.active_=t,t?this.onActivate():this.onDeactivate())}},{key:"mobile",get:function(){return this.mobile_},set:function(t){this.mobile_!==t&&(this.mobile_=t,this.checkFocusAutoplay())}},{key:"over",get:function(){return this.over_},set:function(t){this.over_!==t&&(this.over_=t,this.checkFocusAutoplay())}}]),a}(t.Component);_.meta={selector:"[slider]",inputs:["items","current","autoplay","focusAutoplay","vertical"],outputs:["init","change"]};var M=function(i){function a(){return i.apply(this,arguments)||this}o(a,i);var l=a.prototype;return l.onInit=function(){var e=this;t.getContext(this).node.classList.remove("hidden"),this.slider=null,this.subSlider=null,this.chapterIndex=0,this.itemIndex=0,this.showMenu=!1,this.templates=s,this.slides=[],this.items=[],c.data$().pipe(n.first()).subscribe((function(t){e.slides=t,e.items=e.collectItems(e.slides);var n=document.querySelector("html");n.classList.add("resizing"),setTimeout((function(){n.classList.remove("resizing")})),console.log(e.slides)})),d.keys$().pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(t){t.Space&&e.onToggleMenu()})),this.resize$().pipe(n.takeUntil(this.unsubscribe$)).subscribe()},l.updateLocation=function(){var t="",e="",n=this.currentItem;if(n)t=n.slug,e=n.documentTitle;else{var i=this.currentChapter;i&&(t=i.slug,e=i.documentTitle)}document.title=e,u.replaceState(null,t),console.log("AppComponent.updateLocation",e,t)},l.resize$=function(){var t,i=document.querySelector("html");return e.fromEvent(window,"resize").pipe(n.throttleTime(200),n.tap((function(e){i.classList.add("resizing"),t&&clearTimeout(t),t=setTimeout((function(){i.classList.remove("resizing")}),200)})))},l.collectItems=function(t,e){var n=this;return void 0===e&&(e=[]),t.forEach((function(t){e.push(t),t.items&&(e=n.collectItems(t.items,e))})),e},l.onSliderInit=function(t){this.slider=t,this.chapterIndex=t.current},l.onSliderChange=function(t){this.chapterIndex=t;var e=this.slides[t];e&&(this.itemIndex=e.current),this.showMenu=!1,this.updateLocation(),this.pushChanges()},l.onSubSliderChange=function(t){this.itemIndex=t,this.showMenu=!1,this.updateLocation(),this.pushChanges()},l.onToggleMenu=function(){this.showMenu=!this.showMenu,this.pushChanges()},l.onMenuNav=function(t){this.slider.onMenuNav(t),this.showMenu=!1,this.pushChanges()},l.onPreviousChapter=function(){this.slider.hasPrev()&&this.slider.navTo(this.slider.current-1)},l.onNextChapter=function(){this.slider.hasNext()&&this.slider.navTo(this.slider.current+1)},l.onNavToChapter=function(t){this.slider.navTo(t)},r(a,[{key:"showMenu",get:function(){return this.showMenu_},set:function(t){this.showMenu_=t,_.disabled=t}},{key:"previousChapter",get:function(){if(this.slider&&this.slider.hasPrev())return this.slides[this.slider.current-1]}},{key:"currentChapter",get:function(){if(this.slider)return this.slides[this.slider.current]}},{key:"nextChapter",get:function(){if(this.slider&&this.slider.hasNext())return this.slides[this.slider.current+1]}},{key:"currentItem",get:function(){var t=this.currentChapter;return t&&t.items&&null!=t.current?t.items[t.current]:null}}]),a}(t.Component);M.meta={selector:"[app-component]"};var k=function(e){function i(){return e.apply(this,arguments)||this}o(i,e);var r=i.prototype;return r.onInit=function(){t.getContext(this).node.classList.add("appear-stagger")},r.onChanges=function(){var e=t.getContext(this).node;y.firstIntersection$(e).pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(t){e.classList.add("appeared")}))},i}(t.Directive);k.meta={selector:"[appear-stagger]"};var C=function(){function t(){}return t.merge=function(t,e){var n=this;return"object"==typeof e&&Object.keys(e).forEach((function(i){var r=e[i];"object"!=typeof r||Array.isArray(r)?t[i]=r:t[i]=n.merge(t[i],r)})),t},t}(),S="undefined"!=typeof module&&module.exports,A=((S?{get:function(){}}:new URLSearchParams(window.location.search)).get("debug"),S?null:document.querySelector("base").getAttribute("href")),T=!S&&(window&&-1!==window.location.host.indexOf("herokuapp")),z=!S&&(T||window&&("41789"===window.location.port||"5000"===window.location.port||"6443"===window.location.port||"actarian.github.io"===window.location.host)),I=!S&&(window&&-1!==["localhost","127.0.0.1","0.0.0.0"].indexOf(window.location.host.split(":")[0])),E={STATIC:z,DEVELOPMENT:I,PRODUCTION:!I},N=function(){var t=e.prototype;function e(t){if(t){if("object"==typeof t.url){var e=t.language||"",n=t.market||"";Object.keys(t.url).forEach((function(i){t.url[i]=e+n+t.url[i]}))}Object.assign(this,t)}}return t.getAbsoluteUrl=function(t,e){var n=""+window.location.origin+t;return Object.keys(e).forEach((function(t){n=n.replace("$"+t,e[t])})),n},t.getPath=function(t){return this.isLocal(t)?this.href+t:t},t.isLocal=function(t){return-1===t.indexOf("://")},r(e,[{key:"STATIC",get:function(){return E.STATIC},set:function(t){E.STATIC=!0===t||"true"===t}},{key:"href",get:function(){return T?this.githubDocs:A}}]),e}(),L={channelName:"BHere",flags:{production:!1,useProxy:!1,useToken:!1,selfService:!0,guidedTourRequest:!0,editor:!0,ar:!0,menu:!0,attendee:!0,streamer:!0,viewer:!0,smartDevice:!0,maxQuality:!1,heroku:T}},$=window.STATIC?{appKey:"8b0cae93d47a44e48e97e7fd0404be4e",channelName:"BHere",flags:{production:!1,useProxy:!0,useToken:!1,selfService:!0,guidedTourRequest:!0,editor:!0,editorAssetScreen:!0,ar:!0,menu:!0,chat:!0,attendee:!0,streamer:!0,viewer:!0,smartDevice:!0,maxQuality:!1},logo:null,background:{image:"/more/img/background.jpg",video:"/more/img/background.mp4"},colors:{menuBackground:"#000000",menuForeground:"#ffffff",menuOverBackground:"#0099ff",menuOverForeground:"#ffffff",menuBackBackground:"#0099ff",menuBackForeground:"#000000",menuBackOverBackground:"#0099ff",menuBackOverForeground:"#ffffff"},editor:{disabledViewTypes:["waiting-room","room-3d"],disabledViewItemTypes:["texture"]},assets:"/more/",worker:"./js/workers/image.service.worker.js",githubDocs:"https://raw.githubusercontent.com/actarian/more/more-ws-new/docs/",language:"",market:"",url:{index:"/",access:"/",editor:"/editor",selfServiceTour:"/self-service-tour",guidedTour:"/guided-tour",accessCode:"/access-code"},template:{tryInAr:"/try-in-ar.html?viewId=$viewId",modal:{controlRequest:"/control-request-modal.html",tryInAr:"/try-in-ar-modal.html",view:{panorama:"/panorama-modal.html","panorama-grid":"/panorama-grid-modal.html","room-3d":"/room-3d-modal.html",model:"/model-modal.html"},viewItem:{nav:"/nav-modal.html",plane:"/plane-modal.html","curved-plane":"/curved-plane-modal.html",texture:"/texture-modal.html",model:"/item-model-modal.html"},remove:"/remove-modal.html"}},languages:["en"],defaultLanguage:"en"}:{appKey:"8b0cae93d47a44e48e97e7fd0404be4e",channelName:"BHere",flags:{production:!0,useProxy:!1,useToken:!1,selfService:!0,guidedTourRequest:!0,editor:!1,editorAssetScreen:!1,ar:!0,menu:!0,chat:!1,attendee:!0,streamer:!0,viewer:!0,smartDevice:!0,maxQuality:!1},logo:null,background:{image:"/Modules/more/Client/docs/img/background.jpg",video:"/Modules/more/Client/docs/img/background.mp4"},colors:{menuBackground:"#000000",menuForeground:"#ffffff",menuOverBackground:"#0099ff",menuOverForeground:"#ffffff",menuBackBackground:"#0099ff",menuBackForeground:"#000000",menuBackOverBackground:"#0099ff",menuBackOverForeground:"#ffffff"},editor:{disabledViewTypes:["waiting-room","room-3d"],disabledViewItemTypes:["texture"]},assets:"/Modules/more/Client/docs/",worker:"/Modules/more/Client/docs/js/workers/image.service.worker.js",githubDocs:"https://raw.githubusercontent.com/actarian/more/more-ws-new/docs/",language:"/it",market:"/it",url:{index:"/",access:"/",editor:"/editor",selfServiceTour:"/self-service-tour",guidedTour:"/guided-tour",accessCode:"/access-code"},template:{tryInAr:"/template/modules/more/try-in-ar.cshtml?viewId=$viewId",modal:{controlRequest:"/template/modules/more/control-request-modal.cshtml",tryInAr:"/template/modules/more/try-in-ar-modal.cshtml",view:{panorama:"/template/modules/more/panorama-modal.cshtml","panorama-grid":"/template/modules/more/panorama-grid-modal.cshtml","room-3d":"/template/modules/more/room-3d-modal.cshtml",model:"/template/modules/more/model-modal.cshtml"},viewItem:{nav:"/template/modules/more/nav-modal.cshtml",plane:"/template/modules/more/plane-modal.cshtml","curved-plane":"/template/modules/more/curved-plane-modal.cshtml",texture:"/template/modules/more/texture-modal.cshtml",model:"/template/modules/more/item-model-modal.cshtml"},remove:"/template/modules/more/remove-modal.cshtml"}},languages:["en"],defaultLanguage:"en"},R=Object.assign({port:5e3,fontFamily:"GT Walsheim, sans-serif",colors:{menuBackground:"#000000",menuForeground:"#ffffff",menuOverBackground:"#0099ff",menuOverForeground:"#ffffff",menuBackBackground:"#0099ff",menuBackForeground:"#000000",menuBackOverBackground:"#0099ff",menuBackOverForeground:"#ffffff"},editor:{disabledViewTypes:["waiting-room","room-3d"],disabledViewItemTypes:["texture"]},renderOrder:{panorama:0,model:10,plane:20,tile:30,banner:40,nav:50,panel:60,menu:70,debug:80,pointer:90}},L,$),P=new N(R=C.merge(R,window.bhere));console.log("environment",P);var O=function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),e.transform=function(t){return P.flags[t]||!1},e}(t.Pipe);O.meta={name:"flag"};var q=function(i){function r(){return i.apply(this,arguments)||this}o(r,i);var a=r.prototype;return a.onInit=function(){var e=this,i=t.getContext(this).node;return i.focus(),this.current=0,this.slides.forEach((function(t){t.current=0})),d.keys$().pipe(n.filter((function(t){return e.active})),n.takeUntil(this.unsubscribe$)).subscribe((function(t){if(t.ArrowRight)e.nextChapter();else if(t.ArrowLeft)e.previousChapter();else if(t.ArrowDown)e.nextItem();else if(t.ArrowUp)e.previousItem();else if(t.Enter){var n=e.slides[e.current],i=n.items?n.items[n.current]:n;e.onSelect(i)}t.originalEvent&&(t.originalEvent.preventDefault(),t.originalEvent.stopPropagation())})),this.wheel$(i).pipe(n.filter((function(t){return e.active})),n.takeUntil(this.unsubscribe$)).subscribe()},a.onChanges=function(){this.current=this.chapterIndex;var t=this.slides[this.current];t&&(t.current=this.itemIndex)},a.wheel$=function(t){var i=this;return e.fromEvent(t,"wheel",{capture:!1,passive:!1}).pipe(n.throttleTime(200),n.tap((function(t){t.deltaY>0?i.nextItem()||i.nextChapter():i.previousItem()||i.previousChapter()})))},a.nextChapter=function(){this.current<this.slides.length-1&&(this.current++,this.pushChanges())},a.previousChapter=function(){this.current>0&&(this.current--,this.pushChanges())},a.nextItem=function(){var t=this.slides[this.current];return!!(t.items&&t.current<t.items.length-1)&&(t.current++,this.pushChanges(),!0)},a.previousItem=function(){var t=this.slides[this.current];return!!(t.items&&t.current>0)&&(t.current--,this.pushChanges(),!0)},a.onSelect=function(t){var e,n=this,i=0,r=0;this.slides.forEach((function(n,a){n===t&&(i=a,e=n),n.items&&n.items.forEach((function(o,s){o===t&&(i=a,r=s,e=n)}))})),this.current!==i||e.current!==r?(this.current=i,e.current=r,this.pushChanges(),setTimeout((function(){n.nav.next({item:t,chapterIndex:i,index:r})}),500)):this.nav.next({item:t,chapterIndex:i,index:r})},a.navTo=function(t){this.current=t,this.pushChanges()},r}(t.Component);q.meta={selector:"[footer-menu]",inputs:["slides","active","chapterIndex","itemIndex"],outputs:["nav"],template:'\n\t\t<div class="circle">\n\t\t\t<img src="img/circle.png" />\n\t\t</div>\n\t\t<div class="logo">\n\t\t\t<img src="img/logo-lg.png" />\n\t\t</div>\n\t\t<div class="listing--menu" [style]="{ transform: \'translateX(\' + -76 * current + \'rem)\' }">\n\t\t\t<div class="listing__item" *for="let chapter of slides; let c = index;">\n\t\t\t\t<div class="listing--submenu" [style]="{ transform: \'translateY(\' + -25 * chapter.current + \'rem)\' }" *if="chapter.items && chapter.items.length">\n\t\t\t\t\t<div class="listing__item" *for="let item of chapter.items; let i = index;">\n\t\t\t\t\t\t<div class="card--menu" [class]="{ active: c === current && i === chapter.current }" (click)="onSelect(item)">\n\t\t\t\t\t\t\t<span [innerHTML]="item.name" ></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="card--menu" [class]="{ active: c === current }" (click)="onSelect(chapter)" *if="!chapter.items || !chapter.items.length">\n\t\t\t\t\t<span [innerHTML]="chapter.name"></span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="slider__bullets">\n\t\t\t<span class="slider__bullet" [class]="{ active: index === current }" *for="let item of slides; let index = index;" (click)="navTo(index)"></span>\n\t\t</div>\n\t'};var D=function(t){function e(){return t.apply(this,arguments)||this}o(e,t);var n=e.prototype;return n.onInit=function(){t.prototype.onInit.call(this)},n.navTo=function(e){t.prototype.navTo.call(this,e)},n.doClose=function(){this.close.next()},n.toggleMode=function(){this.mode.next()},r(e,[{key:"current",get:function(){return t.prototype.getCurrent.call(this)},set:function(t){this.setCurrent(t)}},{key:"wrapperStyle",get:function(){return{transform:"translate3d("+-100*this.current+"%, 0, 0)"}}},{key:"innerStyle",get:function(){return{width:100*this.items.length+"%"}}}]),e}(_);D.meta={selector:"[slider-gallery]",inputs:["items","current","autoplay"],outputs:["change","tween","close","mode"]};var j=function(i){function a(){return i.apply(this,arguments)||this}o(a,i);var s=a.prototype;return s.onInit=function(){i.prototype.onInit.call(this),this.pagination$().pipe(n.takeUntil(this.unsubscribe$)).subscribe(),this.click$().pipe(n.takeUntil(this.unsubscribe$)).subscribe()},s.raf$=function(){return e.interval(0,e.animationFrameScheduler)},s.mouse$=function(){var t={x:0,y:0};return e.fromEvent(window,"mousemove").pipe(n.map((function(e){return t.x=e.clientX,t.y=e.clientY,t})))},s.pagination$=function(){var i=this,r=t.getContext(this).node,a={x:0,y:0},o=r.querySelector(".slider__pagination");return e.combineLatest([this.mouse$(),this.raf$()]).pipe(n.tap((function(t){var e=t[0];a.x+=(e.x-a.x)/20,a.y+=(e.y-a.y)/20,i.direction=e.x>window.innerWidth/2?1:-1,o.style.transform="translateX("+a.x+"px) translateY("+a.y+"px)"})))},s.click$=function(){var i=this,r=t.getContext(this).node;return e.fromEvent(r,"click").pipe(n.map((function(t){t.clientX>window.innerWidth/2?i.navTo(i.current+1):i.navTo(i.current-1)})))},s.onContentOver=function(){t.getContext(this).node.classList.add("content-over")},s.onContentOut=function(){t.getContext(this).node.classList.remove("content-over")},r(a,[{key:"current",get:function(){return i.prototype.getCurrent.call(this)},set:function(t){this.setCurrent(t)}},{key:"wrapperStyle",get:function(){return{transform:"translate3d("+-100*this.current+"%, 0, 0)"}}},{key:"innerStyle",get:function(){return{width:100*this.items.length+"%"}}},{key:"direction",set:function(e){if(this.direction_!==e){this.direction_=e;var n=t.getContext(this).node.querySelector(".slider__pagination");1==e?(n.classList.remove("prev"),n.classList.add("next")):(n.classList.remove("next"),n.classList.add("prev"))}}}]),a}(_);j.meta={selector:"[slider-hero]",inputs:["items","current","autoplay"],outputs:["change","tween"]};var G=function(i){function a(){return i.apply(this,arguments)||this}o(a,i);var s=a.prototype;return s.onInit=function(){var t=this;i.prototype.onInit.call(this),this.resize$().pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(){return t.pushChanges()})),this.subSlider=null},s.resolveInitialIndex=function(){var t=0,e=window.location.hash;if(e){var n=this.items.reduce((function(t,n,i){return-1===t&&1===e.indexOf(n.slug)?i:t}),-1);-1!==n&&(t=n),console.log("SliderMainComponent.parseLocation.index",e,t)}return t},s.resize$=function(){return e.fromEvent(window,"resize")},s.onContentOver=function(){t.getContext(this).node.classList.add("content-over")},s.onContentOut=function(){t.getContext(this).node.classList.remove("content-over")},s.navTo=function(t,e){i.prototype.navTo.call(this,t,e)},s.onSubSliderInit=function(t,e){e.subSlider=t},s.onSubSliderChange=function(t){this.subChange.next(t)},s.onMenuNav=function(t){i.prototype.navTo.call(this,t.chapterIndex,!0);var e=this.items[t.chapterIndex];e.subSlider&&e.subSlider.navTo(t.index,!0)},r(a,[{key:"current",get:function(){return i.prototype.getCurrent.call(this)},set:function(t){this.setCurrent(t)}},{key:"wrapperStyle",get:function(){var t={transform:"translate3d("+-this.slideWidth*this.current+"px, 0, 0)"};return this.immediate&&(t.transition="none"),t}},{key:"innerStyle",get:function(){return{width:this.slideWidth*this.items.length+"px"}}},{key:"slideWidth",get:function(){return t.getContext(this).node.offsetWidth}}]),a}(_);G.meta={selector:"[slider-main]",inputs:["items","current","autoplay","focusAutoplay","vertical"],outputs:["init","change","subChange"]};var H=function(i){function a(){return i.apply(this,arguments)||this}o(a,i);var s=a.prototype;return s.onInit=function(){var t=this;i.prototype.onInit.call(this),this.resize$().pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(){return t.pushChanges()}))},s.resolveInitialIndex=function(){var t=0,e=window.location.hash;if(e){var n=this.items.reduce((function(t,n,i){return-1===t&&1===e.indexOf(n.slug)?i:t}),-1);-1!==n&&(t=n),console.log("SliderVerticalComponent.parseLocation.index",e,t)}return t},s.resize$=function(){return e.fromEvent(window,"resize")},s.onContentOver=function(){t.getContext(this).node.classList.add("content-over")},s.onContentOut=function(){t.getContext(this).node.classList.remove("content-over")},s.navTo=function(t,e){i.prototype.navTo.call(this,t,e)},r(a,[{key:"current",get:function(){return i.prototype.getCurrent.call(this)},set:function(t){this.setCurrent(t)}},{key:"wrapperStyle",get:function(){var t={transform:"translate3d(0, "+-this.slideHeight*this.current+"px, 0)"};return this.immediate&&(t.transition="none"),t}},{key:"innerStyle",get:function(){return{height:this.slideHeight*this.items.length+"px"}}},{key:"slideHeight",get:function(){return t.getContext(this).node.offsetHeight}}]),a}(_);H.meta={selector:"[slider-vertical]",inputs:["items","current","autoplay","focusAutoplay","vertical","disabled"],outputs:["init","change"]};var B=function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),e.prototype.onInit=function(){},e}(t.Component);B.meta={selector:"[view-clients]",inputs:["item"],template:'\n\t\t<div class="background">\n\t\t\t<img data-loading="lazy" [src]="item.image" ondragstart="return false;" />\n\t\t</div>\n\t\t\x3c!--\n\t\t<div class="container">\n\t\t\t<div class="title" [innerHTML]="item.title"></div>\n\t\t\t<div class="abstract" [innerHTML]="item.abstract"></div>\n\t\t</div>\n\t\t--\x3e\n\t\t<div class="listing--clients" appear-stagger>\n\t\t\t<div class="listing__item" *for="let client of item.clients">\n\t\t\t\t<img [src]="client.logo" [title]="client.title" />\n\t\t\t</div>\n\t\t</div>\n\t'};var V=function(t){function e(){return t.apply(this,arguments)||this}o(e,t);var n=e.prototype;return n.onInit=function(){this.current=0},n.onSliderChange=function(t){this.current=t,this.pushChanges(),this.change.next(t)},n.onSliderInit=function(t){this.init.next(t)},r(e,[{key:"isNegative",get:function(){var t=this.item.items[this.current];return null!=t.image&&"textMap"!==t.template}}]),e}(t.Component);V.meta={selector:"[view-group]",inputs:["item"],outputs:["init","change"],template:'\n\t\t<div class="slider__container slider--vertical" [class]="{ \'negative\': isNegative }" (init)="onSliderInit($event)" (change)="onSliderChange($event)" slider-vertical [vertical]="true" [items]="item.items" *if="item.template == \'group\'">\n\t\t\t<div class="slider__wrapper" [style]="wrapperStyle">\n\t\t\t\t<div class="slider__inner" [style]="innerStyle">\n\t\t\t\t\t<div class="slider__slide" *for="let slide of items; let index = index;">\n\t\t\t\t\t\t<div class="view view--clients" view-clients [item]="slide" *if="!slide.hidden && slide.template == \'clients\'"></div>\n\t\t\t\t\t\t<div class="view view--group" view-group [item]="slide" *if="!slide.hidden && slide.template == \'group\'"></div>\n\t\t\t\t\t\t<div class="view view--suite" view-suite [item]="slide" *if="!slide.hidden && slide.template == \'suite\'"></div>\n\t\t\t\t\t\t<div class="view view--tabs" view-tabs [item]="slide" *if="!slide.hidden && slide.template == \'tabs\'"></div>\n\t\t\t\t\t\t<div class="view view--text-center" view-text-center [item]="slide" *if="!slide.hidden && slide.template == \'textCenter\'"></div>\n\t\t\t\t\t\t<div class="view view--text-graph" view-text-graph [item]="slide" *if="!slide.hidden && slide.template == \'textGraph\'"></div>\n\t\t\t\t\t\t<div class="view view--text-left" view-text-left [item]="slide" *if="!slide.hidden && slide.template == \'textLeft\'"></div>\n\t\t\t\t\t\t<div class="view view--text-map" view-text-map [item]="slide" *if="!slide.hidden && slide.template == \'textMap\'"></div>\n\t\t\t\t\t\t<div class="view view--text-right" view-text-right [item]="slide" *if="!slide.hidden && slide.template == \'textRight\'"></div>\n\t\t\t\t\t\t<div class="view view--text-two-cols" view-text-two-cols [item]="slide" *if="!slide.hidden && slide.template == \'textTwoCols\'"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="slider__bullets">\n\t\t\t\t<span class="slider__bullet" [class]="{ active: index === current }" *for="let slide of items; let index = index;" (click)="navTo(index)"></span>\n\t\t\t</div>\n\t\t</div>\n\t'};var F=function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),e.prototype.onInit=function(){this.item.image&&getContext(this).node.querySelector(".container-fluid").classList.add("negative")},e}(t.Component);F.meta={selector:"[view-suite]",inputs:["item"],template:'\n\t\t<div class="background">\n\t\t\t<img data-loading="lazy" [src]="item.image" ondragstart="return false;" />\n\t\t</div>\n\t\t<div class="container-fluid" appear-stagger>\n\t\t\t<div class="title" [innerHTML]="item.title"></div>\n\t\t\t<div class="abstract" *if="item.abstract" [innerHTML]="item.abstract"></div>\n\t\t\t<div class="description" *if="item.description" [innerHTML]="item.description"></div>\n\t\t</div>\n\t'};var U=function(t){function e(){return t.apply(this,arguments)||this}o(e,t);var n=e.prototype;return n.onInit=function(){this.index=0,this.slide=this.item.items[0]},n.setSlide=function(t){this.index=t,this.slide=this.item.items[t],this.pushChanges()},e}(t.Component);U.meta={selector:"[view-tabs]",inputs:["item"],template:'\n\t\t<ul class="nav--tabs">\n\t\t\t<li *for="let nav of item.items; let navIndex = index;" (click)="setSlide(navIndex)"><span [innerHTML]="nav.name"></span></li>\n\t\t</ul>\n\t\t<div class="view view--clients" view-clients [item]="slide" *if="slide && !slide.hidden && slide.template == \'clients\'"></div>\n\t\t<div class="view view--group" view-group [item]="slide" *if="slide && !slide.hidden && slide.template == \'group\'"></div>\n\t\t<div class="view view--suite" view-suite [item]="slide" *if="slide && !slide.hidden && slide.template == \'suite\'"></div>\n\t\t<div class="view view--text-center" view-text-center [item]="slide" *if="slide && !slide.hidden && slide.template == \'textCenter\'"></div>\n\t\t<div class="view view--text-graph" view-text-graph [item]="slide" *if="slide && !slide.hidden && slide.template == \'textGraph\'"></div>\n\t\t<div class="view view--text-left" view-text-left [item]="slide" *if="slide && !slide.hidden && slide.template == \'textLeft\'"></div>\n\t\t<div class="view view--text-map" view-text-map [item]="slide" *if="slide && !slide.hidden && slide.template == \'textMap\'"></div>\n\t\t<div class="view view--text-right" view-text-right [item]="slide" *if="slide && !slide.hidden && slide.template == \'textRight\'"></div>\n\t\t<div class="view view--text-two-cols" view-text-two-cols [item]="slide" *if="slide && !slide.hidden && slide.template == \'textTwoCols\'"></div>\n\t'};var X=function(e){function n(){return e.apply(this,arguments)||this}return o(n,e),n.prototype.onInit=function(){this.item.image&&t.getContext(this).node.querySelector(".container-fluid").classList.add("negative")},n}(t.Component);function W(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Y(t){let e=t,n=t;function i(t,e,i,r){for(null==i&&(i=0),null==r&&(r=t.length);i<r;){const a=i+r>>>1;n(t[a],e)<0?i=a+1:r=a}return i}return 1===t.length&&(e=(e,n)=>t(e)-n,n=function(t){return(e,n)=>W(t(e),n)}(t)),{left:i,center:function(t,n,r,a){null==r&&(r=0),null==a&&(a=t.length);const o=i(t,n,r,a-1);return o>r&&e(t[o-1],n)>-e(t[o],n)?o-1:o},right:function(t,e,i,r){for(null==i&&(i=0),null==r&&(r=t.length);i<r;){const a=i+r>>>1;n(t[a],e)>0?r=a:i=a+1}return i}}}X.meta={selector:"[view-text-center]",inputs:["item"],template:'\n\t\t<div class="background" *if="item.image">\n\t\t\t<img data-loading="lazy" [src]="item.image" ondragstart="return false;" />\n\t\t</div>\n\t\t\x3c!--\n\t\t<div class="circle" *if="!item.image">\n\t\t\t<img src="img/circle.png" />\n\t\t</div>\n\t\t--\x3e\n\t\t<div class="container-fluid" appear-stagger>\n\t\t\t<div class="title" [innerHTML]="item.title"></div>\n\t\t\t<div class="abstract" *if="item.abstract" [innerHTML]="item.abstract"></div>\n\t\t\t<div class="logo" *if="item.logo"><img [src]="item.logo" /></div>\n\t\t\t<div class="description" *if="item.description" [innerHTML]="item.description"></div>\n\t\t</div>\n\t'};const Q=Y(W).right;Y((function(t){return null===t?NaN:+t})).center;var J=Math.sqrt(50),K=Math.sqrt(10),Z=Math.sqrt(2);function tt(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),a=i/Math.pow(10,r);return r>=0?(a>=J?10:a>=K?5:a>=Z?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(a>=J?10:a>=K?5:a>=Z?2:1)}function et(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let i=-1;for(let r of t)null!=(r=e(r,++i,t))&&(n<r||void 0===n&&r>=r)&&(n=r)}return n}function nt(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(r);++i<r;)a[i]=t+i*n;return a}var it=Array.prototype.slice;function rt(t){return t}var at=1e-6;function ot(t){return"translate("+t+",0)"}function st(t){return"translate(0,"+t+")"}function lt(t){return e=>+t(e)}function ut(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function ct(){return!this.__axis}function dt(t,e){var n=[],i=null,r=null,a=6,o=6,s=3,l="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,u=1===t||4===t?-1:1,c=4===t||2===t?"x":"y",d=1===t||3===t?ot:st;function h(h){var p=null==i?e.ticks?e.ticks.apply(e,n):e.domain():i,f=null==r?e.tickFormat?e.tickFormat.apply(e,n):rt:r,m=Math.max(a,0)+s,g=e.range(),v=+g[0]+l,y=+g[g.length-1]+l,w=(e.bandwidth?ut:lt)(e.copy(),l),b=h.selection?h.selection():h,x=b.selectAll(".domain").data([null]),_=b.selectAll(".tick").data(p,e).order(),M=_.exit(),k=_.enter().append("g").attr("class","tick"),C=_.select("line"),S=_.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),_=_.merge(k),C=C.merge(k.append("line").attr("stroke","currentColor").attr(c+"2",u*a)),S=S.merge(k.append("text").attr("fill","currentColor").attr(c,u*m).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),h!==b&&(x=x.transition(h),_=_.transition(h),C=C.transition(h),S=S.transition(h),M=M.transition(h).attr("opacity",at).attr("transform",(function(t){return isFinite(t=w(t))?d(t+l):this.getAttribute("transform")})),k.attr("opacity",at).attr("transform",(function(t){var e=this.parentNode.__axis;return d((e&&isFinite(e=e(t))?e:w(t))+l)}))),M.remove(),x.attr("d",4===t||2===t?o?"M"+u*o+","+v+"H"+l+"V"+y+"H"+u*o:"M"+l+","+v+"V"+y:o?"M"+v+","+u*o+"V"+l+"H"+y+"V"+u*o:"M"+v+","+l+"H"+y),_.attr("opacity",1).attr("transform",(function(t){return d(w(t)+l)})),C.attr(c+"2",u*a),S.attr(c,u*m).text(f),b.filter(ct).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),b.each((function(){this.__axis=w}))}return h.scale=function(t){return arguments.length?(e=t,h):e},h.ticks=function(){return n=it.call(arguments),h},h.tickArguments=function(t){return arguments.length?(n=null==t?[]:it.call(t),h):n.slice()},h.tickValues=function(t){return arguments.length?(i=null==t?null:it.call(t),h):i&&i.slice()},h.tickFormat=function(t){return arguments.length?(r=t,h):r},h.tickSize=function(t){return arguments.length?(a=o=+t,h):a},h.tickSizeInner=function(t){return arguments.length?(a=+t,h):a},h.tickSizeOuter=function(t){return arguments.length?(o=+t,h):o},h.tickPadding=function(t){return arguments.length?(s=+t,h):s},h.offset=function(t){return arguments.length?(l=+t,h):l},h}function ht(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function pt(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}const ft=Symbol("implicit");function mt(){var t=new Map,e=[],n=[],i=ft;function r(r){var a=r+"",o=t.get(a);if(!o){if(i!==ft)return i;t.set(a,o=e.push(r))}return n[(o-1)%n.length]}return r.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Map;for(const i of n){const n=i+"";t.has(n)||t.set(n,e.push(i))}return r},r.range=function(t){return arguments.length?(n=Array.from(t),r):n.slice()},r.unknown=function(t){return arguments.length?(i=t,r):i},r.copy=function(){return mt(e,n).unknown(i)},pt.apply(r,arguments),r}function gt(){var t,e,n=mt().unknown(void 0),i=n.domain,r=n.range,a=0,o=1,s=!1,l=0,u=0,c=.5;function d(){var n=i().length,d=o<a,h=d?o:a,p=d?a:o;t=(p-h)/Math.max(1,n-l+2*u),s&&(t=Math.floor(t)),h+=(p-h-t*(n-l))*c,e=t*(1-l),s&&(h=Math.round(h),e=Math.round(e));var f=nt(n).map((function(e){return h+t*e}));return r(d?f.reverse():f)}return delete n.unknown,n.domain=function(t){return arguments.length?(i(t),d()):i()},n.range=function(t){return arguments.length?([a,o]=t,a=+a,o=+o,d()):[a,o]},n.rangeRound=function(t){return[a,o]=t,a=+a,o=+o,s=!0,d()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(s=!!t,d()):s},n.padding=function(t){return arguments.length?(l=Math.min(1,u=+t),d()):l},n.paddingInner=function(t){return arguments.length?(l=Math.min(1,t),d()):l},n.paddingOuter=function(t){return arguments.length?(u=+t,d()):u},n.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),d()):c},n.copy=function(){return gt(i(),[a,o]).round(s).paddingInner(l).paddingOuter(u).align(c)},pt.apply(d(),arguments)}function vt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function yt(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function wt(){}var bt=.7,xt=1/bt,_t="\\s*([+-]?\\d+)\\s*",Mt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",kt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ct=/^#([0-9a-f]{3,8})$/,St=new RegExp("^rgb\\("+[_t,_t,_t]+"\\)$"),At=new RegExp("^rgb\\("+[kt,kt,kt]+"\\)$"),Tt=new RegExp("^rgba\\("+[_t,_t,_t,Mt]+"\\)$"),zt=new RegExp("^rgba\\("+[kt,kt,kt,Mt]+"\\)$"),It=new RegExp("^hsl\\("+[Mt,kt,kt]+"\\)$"),Et=new RegExp("^hsla\\("+[Mt,kt,kt,Mt]+"\\)$"),Nt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Lt(){return this.rgb().formatHex()}function $t(){return this.rgb().formatRgb()}function Rt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ct.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Pt(e):3===n?new jt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Ot(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Ot(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=St.exec(t))?new jt(e[1],e[2],e[3],1):(e=At.exec(t))?new jt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Tt.exec(t))?Ot(e[1],e[2],e[3],e[4]):(e=zt.exec(t))?Ot(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=It.exec(t))?Vt(e[1],e[2]/100,e[3]/100,1):(e=Et.exec(t))?Vt(e[1],e[2]/100,e[3]/100,e[4]):Nt.hasOwnProperty(t)?Pt(Nt[t]):"transparent"===t?new jt(NaN,NaN,NaN,0):null}function Pt(t){return new jt(t>>16&255,t>>8&255,255&t,1)}function Ot(t,e,n,i){return i<=0&&(t=e=n=NaN),new jt(t,e,n,i)}function qt(t){return t instanceof wt||(t=Rt(t)),t?new jt((t=t.rgb()).r,t.g,t.b,t.opacity):new jt}function Dt(t,e,n,i){return 1===arguments.length?qt(t):new jt(t,e,n,null==i?1:i)}function jt(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function Gt(){return"#"+Bt(this.r)+Bt(this.g)+Bt(this.b)}function Ht(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Bt(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Vt(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ut(t,e,n,i)}function Ft(t){if(t instanceof Ut)return new Ut(t.h,t.s,t.l,t.opacity);if(t instanceof wt||(t=Rt(t)),!t)return new Ut;if(t instanceof Ut)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),a=Math.max(e,n,i),o=NaN,s=a-r,l=(a+r)/2;return s?(o=e===a?(n-i)/s+6*(n<i):n===a?(i-e)/s+2:(e-n)/s+4,s/=l<.5?a+r:2-a-r,o*=60):s=l>0&&l<1?0:o,new Ut(o,s,l,t.opacity)}function Ut(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Xt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}vt(wt,Rt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Lt,formatHex:Lt,formatHsl:function(){return Ft(this).formatHsl()},formatRgb:$t,toString:$t}),vt(jt,Dt,yt(wt,{brighter:function(t){return t=null==t?xt:Math.pow(xt,t),new jt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?bt:Math.pow(bt,t),new jt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Gt,formatHex:Gt,formatRgb:Ht,toString:Ht})),vt(Ut,(function(t,e,n,i){return 1===arguments.length?Ft(t):new Ut(t,e,n,null==i?1:i)}),yt(wt,{brighter:function(t){return t=null==t?xt:Math.pow(xt,t),new Ut(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?bt:Math.pow(bt,t),new Ut(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new jt(Xt(t>=240?t-240:t+120,r,i),Xt(t,r,i),Xt(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Wt=t=>()=>t;function Yt(t){return 1==(t=+t)?Qt:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):Wt(isNaN(e)?n:e)}}function Qt(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Wt(isNaN(t)?e:t)}var Jt=function t(e){var n=Yt(e);function i(t,e){var i=n((t=Dt(t)).r,(e=Dt(e)).r),r=n(t.g,e.g),a=n(t.b,e.b),o=Qt(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=a(e),t.opacity=o(e),t+""}}return i.gamma=t,i}(1);function Kt(t,e){e||(e=[]);var n,i=t?Math.min(e.length,t.length):0,r=e.slice();return function(a){for(n=0;n<i;++n)r[n]=t[n]*(1-a)+e[n]*a;return r}}function Zt(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,a=new Array(r),o=new Array(i);for(n=0;n<r;++n)a[n]=oe(t[n],e[n]);for(;n<i;++n)o[n]=e[n];return function(t){for(n=0;n<r;++n)o[n]=a[n](t);return o}}function te(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function ee(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ne(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=oe(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}}var ie=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,re=new RegExp(ie.source,"g");function ae(t,e){var n,i,r,a=ie.lastIndex=re.lastIndex=0,o=-1,s=[],l=[];for(t+="",e+="";(n=ie.exec(t))&&(i=re.exec(e));)(r=i.index)>a&&(r=e.slice(a,r),s[o]?s[o]+=r:s[++o]=r),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:ee(n,i)})),a=re.lastIndex;return a<e.length&&(r=e.slice(a),s[o]?s[o]+=r:s[++o]=r),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,i=0;i<e;++i)s[(n=l[i]).i]=n.x(t);return s.join("")})}function oe(t,e){var n,i,r=typeof e;return null==e||"boolean"===r?Wt(e):("number"===r?ee:"string"===r?(n=Rt(e))?(e=n,Jt):ae:e instanceof Rt?Jt:e instanceof Date?te:(i=e,!ArrayBuffer.isView(i)||i instanceof DataView?Array.isArray(e)?Zt:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?ne:ee:Kt))(t,e)}function se(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var le,ue=180/Math.PI,ce={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function de(t,e,n,i,r,a){var o,s,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,l/=s),t*i<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:r,translateY:a,rotate:Math.atan2(e,t)*ue,skewX:Math.atan(l)*ue,scaleX:o,scaleY:s}}function he(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}return function(a,o){var s=[],l=[];return a=t(a),o=t(o),function(t,i,r,a,o,s){if(t!==r||i!==a){var l=o.push("translate(",null,e,null,n);s.push({i:l-4,x:ee(t,r)},{i:l-2,x:ee(i,a)})}else(r||a)&&o.push("translate("+r+e+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,s,l),function(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(r(n)+"rotate(",null,i)-2,x:ee(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}(a.rotate,o.rotate,s,l),function(t,e,n,a){t!==e?a.push({i:n.push(r(n)+"skewX(",null,i)-2,x:ee(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}(a.skewX,o.skewX,s,l),function(t,e,n,i,a,o){if(t!==n||e!==i){var s=a.push(r(a)+"scale(",null,",",null,")");o.push({i:s-4,x:ee(t,n)},{i:s-2,x:ee(e,i)})}else 1===n&&1===i||a.push(r(a)+"scale("+n+","+i+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,s,l),a=o=null,function(t){for(var e,n=-1,i=l.length;++n<i;)s[(e=l[n]).i]=e.x(t);return s.join("")}}}var pe=he((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ce:de(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),fe=he((function(t){return null==t?ce:(le||(le=document.createElementNS("http://www.w3.org/2000/svg","g")),le.setAttribute("transform",t),(t=le.transform.baseVal.consolidate())?de((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):ce)}),", ",")",")");function me(t){return+t}var ge=[0,1];function ve(t){return t}function ye(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function we(t,e,n){var i=t[0],r=t[1],a=e[0],o=e[1];return r<i?(i=ye(r,i),a=n(o,a)):(i=ye(i,r),a=n(a,o)),function(t){return a(i(t))}}function be(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),a=new Array(i),o=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<i;)r[o]=ye(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(e){var n=Q(t,e,1,i)-1;return a[n](r[n](e))}}function xe(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function _e(){var t,e,n,i,r,a,o=ge,s=ge,l=oe,u=ve;function c(){var t,e,n,l=Math.min(o.length,s.length);return u!==ve&&(t=o[0],e=o[l-1],t>e&&(n=t,t=e,e=n),u=function(n){return Math.max(t,Math.min(e,n))}),i=l>2?be:we,r=a=null,d}function d(e){return isNaN(e=+e)?n:(r||(r=i(o.map(t),s,l)))(t(u(e)))}return d.invert=function(n){return u(e((a||(a=i(s,o.map(t),ee)))(n)))},d.domain=function(t){return arguments.length?(o=Array.from(t,me),c()):o.slice()},d.range=function(t){return arguments.length?(s=Array.from(t),c()):s.slice()},d.rangeRound=function(t){return s=Array.from(t),l=se,c()},d.clamp=function(t){return arguments.length?(u=!!t||ve,c()):u!==ve},d.interpolate=function(t){return arguments.length?(l=t,c()):l},d.unknown=function(t){return arguments.length?(n=t,d):n},function(n,i){return t=n,e=i,c()}}function Me(){return _e()(ve,ve)}function ke(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function Ce(t){return(t=ke(Math.abs(t)))?t[1]:NaN}var Se,Ae=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Te(t){if(!(e=Ae.exec(t)))throw new Error("invalid format: "+t);var e;return new ze({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function ze(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Ie(t,e){var n=ke(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}Te.prototype=ze.prototype,ze.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Ee={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ie(100*t,e),r:Ie,s:function(t,e){var n=ke(t,e);if(!n)return t+"";var i=n[0],r=n[1],a=r-(Se=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,o=i.length;return a===o?i:a>o?i+new Array(a-o+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+ke(t,Math.max(0,e+a-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ne(t){return t}var Le,$e,Re,Pe=Array.prototype.map,Oe=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function qe(t){var e,n,i=void 0===t.grouping||void 0===t.thousands?Ne:(e=Pe.call(t.grouping,Number),n=t.thousands+"",function(t,i){for(var r=t.length,a=[],o=0,s=e[0],l=0;r>0&&s>0&&(l+s+1>i&&(s=Math.max(1,i-l)),a.push(t.substring(r-=s,r+s)),!((l+=s+1)>i));)s=e[o=(o+1)%e.length];return a.reverse().join(n)}),r=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Ne:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Pe.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",u=void 0===t.minus?"−":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function d(t){var e=(t=Te(t)).fill,n=t.align,d=t.sign,h=t.symbol,p=t.zero,f=t.width,m=t.comma,g=t.precision,v=t.trim,y=t.type;"n"===y?(m=!0,y="g"):Ee[y]||(void 0===g&&(g=12),v=!0,y="g"),(p||"0"===e&&"="===n)&&(p=!0,e="0",n="=");var w="$"===h?r:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===h?a:/[%p]/.test(y)?l:"",x=Ee[y],_=/[defgprs%]/.test(y);function M(t){var r,a,l,h=w,M=b;if("c"===y)M=x(t)+M,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:x(Math.abs(t),g),v&&(t=function(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(!+t[i])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(e+1):t}(t)),k&&0==+t&&"+"!==d&&(k=!1),h=(k?"("===d?d:u:"-"===d||"("===d?"":d)+h,M=("s"===y?Oe[8+Se/3]:"")+M+(k&&"("===d?")":""),_)for(r=-1,a=t.length;++r<a;)if(48>(l=t.charCodeAt(r))||l>57){M=(46===l?o+t.slice(r+1):t.slice(r))+M,t=t.slice(0,r);break}}m&&!p&&(t=i(t,1/0));var C=h.length+t.length+M.length,S=C<f?new Array(f-C+1).join(e):"";switch(m&&p&&(t=i(S+t,S.length?f-M.length:1/0),S=""),n){case"<":t=h+t+M+S;break;case"=":t=h+S+t+M;break;case"^":t=S.slice(0,C=S.length>>1)+h+t+M+S.slice(C);break;default:t=S+h+t+M}return s(t)}return g=void 0===g?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),M.toString=function(){return t+""},M}return{format:d,formatPrefix:function(t,e){var n=d(((t=Te(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Ce(e)/3))),r=Math.pow(10,-i),a=Oe[8+i/3];return function(t){return n(r*t)+a}}}}function De(t,e,n,i){var r,a=function(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),a=i/r;return a>=J?r*=10:a>=K?r*=5:a>=Z&&(r*=2),e<t?-r:r}(t,e,n);switch((i=Te(null==i?",f":i)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(r=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ce(e)/3)))-Ce(Math.abs(t)))}(a,o))||(i.precision=r),Re(i,o);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ce(e)-Ce(t))+1}(a,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=function(t){return Math.max(0,-Ce(Math.abs(t)))}(a))||(i.precision=r-2*("%"===i.type))}return $e(i)}function je(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var i,r,a,o,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((i=e<t)&&(r=t,t=e,e=r),0===(o=tt(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),a=new Array(r=Math.ceil(e-t+1));++s<r;)a[s]=(t+s)*o;else for(o=-o,t=Math.ceil(t*o),e=Math.floor(e*o),a=new Array(r=Math.ceil(e-t+1));++s<r;)a[s]=(t+s)/o;return i&&a.reverse(),a}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var i=e();return De(i[0],i[i.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var i,r,a=e(),o=0,s=a.length-1,l=a[o],u=a[s],c=10;for(u<l&&(r=l,l=u,u=r,r=o,o=s,s=r);c-- >0;){if((r=tt(l,u,n))===i)return a[o]=l,a[s]=u,e(a);if(r>0)l=Math.floor(l/r)*r,u=Math.ceil(u/r)*r;else{if(!(r<0))break;l=Math.ceil(l*r)/r,u=Math.floor(u*r)/r}i=r}return t},t}function Ge(){var t=Me();return t.copy=function(){return xe(t,Ge())},pt.apply(t,arguments),je(t)}Le=qe({thousands:",",grouping:[3],currency:["$",""]}),$e=Le.format,Re=Le.formatPrefix;var He="http://www.w3.org/1999/xhtml",Be={svg:"http://www.w3.org/2000/svg",xhtml:He,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ve(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Be.hasOwnProperty(e)?{space:Be[e],local:t}:t}function Fe(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===He&&e.documentElement.namespaceURI===He?e.createElement(t):e.createElementNS(n,t)}}function Ue(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Xe(t){var e=Ve(t);return(e.local?Ue:Fe)(e)}function We(){}function Ye(t){return null==t?We:function(){return this.querySelector(t)}}function Qe(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Je(){return[]}function Ke(t){return null==t?Je:function(){return this.querySelectorAll(t)}}function Ze(t){return function(){return this.matches(t)}}function tn(t){return function(e){return e.matches(t)}}var en=Array.prototype.find;function nn(){return this.firstElementChild}var rn=Array.prototype.filter;function an(){return this.children}function on(t){return new Array(t.length)}function sn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function ln(t){return function(){return t}}function un(t,e,n,i,r,a){for(var o,s=0,l=e.length,u=a.length;s<u;++s)(o=e[s])?(o.__data__=a[s],i[s]=o):n[s]=new sn(t,a[s]);for(;s<l;++s)(o=e[s])&&(r[s]=o)}function cn(t,e,n,i,r,a,o){var s,l,u,c=new Map,d=e.length,h=a.length,p=new Array(d);for(s=0;s<d;++s)(l=e[s])&&(p[s]=u=o.call(l,l.__data__,s,e)+"",c.has(u)?r[s]=l:c.set(u,l));for(s=0;s<h;++s)u=o.call(t,a[s],s,a)+"",(l=c.get(u))?(i[s]=l,l.__data__=a[s],c.delete(u)):n[s]=new sn(t,a[s]);for(s=0;s<d;++s)(l=e[s])&&c.get(p[s])===l&&(r[s]=l)}function dn(t){return t.__data__}function hn(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function pn(t){return function(){this.removeAttribute(t)}}function fn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function mn(t,e){return function(){this.setAttribute(t,e)}}function gn(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function vn(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function yn(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function wn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function bn(t){return function(){this.style.removeProperty(t)}}function xn(t,e,n){return function(){this.style.setProperty(t,e,n)}}function _n(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function Mn(t,e){return t.style.getPropertyValue(e)||wn(t).getComputedStyle(t,null).getPropertyValue(e)}function kn(t){return function(){delete this[t]}}function Cn(t,e){return function(){this[t]=e}}function Sn(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function An(t){return t.trim().split(/^|\s+/)}function Tn(t){return t.classList||new zn(t)}function zn(t){this._node=t,this._names=An(t.getAttribute("class")||"")}function In(t,e){for(var n=Tn(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function En(t,e){for(var n=Tn(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function Nn(t){return function(){In(this,t)}}function Ln(t){return function(){En(this,t)}}function $n(t,e){return function(){(e.apply(this,arguments)?In:En)(this,t)}}function Rn(){this.textContent=""}function Pn(t){return function(){this.textContent=t}}function On(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function qn(){this.innerHTML=""}function Dn(t){return function(){this.innerHTML=t}}function jn(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Gn(){this.nextSibling&&this.parentNode.appendChild(this)}function Hn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Bn(){return null}function Vn(){var t=this.parentNode;t&&t.removeChild(this)}function Fn(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Un(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Xn(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Wn(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,a=e.length;i<a;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?e.length=r:delete this.__on}}}function Yn(t,e,n){return function(){var i,r=this.__on,a=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(r)for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===t.type&&i.name===t.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),void(i.value=e);this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function Qn(t,e,n){var i=wn(t),r=i.CustomEvent;"function"==typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function Jn(t,e){return function(){return Qn(this,t,e)}}function Kn(t,e){return function(){return Qn(this,t,e.apply(this,arguments))}}sn.prototype={constructor:sn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},zn.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Zn=[null];function ti(t,e){this._groups=t,this._parents=e}function ei(){return new ti([[document.documentElement]],Zn)}function ni(t){return function(t){return"string"==typeof t?new ti([[document.querySelector(t)]],[document.documentElement]):new ti([[t]],Zn)}(Xe(t).call(document.documentElement))}ti.prototype=ei.prototype={constructor:ti,select:function(t){"function"!=typeof t&&(t=Ye(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a,o,s=e[r],l=s.length,u=i[r]=new Array(l),c=0;c<l;++c)(a=s[c])&&(o=t.call(a,a.__data__,c,s))&&("__data__"in a&&(o.__data__=a.__data__),u[c]=o);return new ti(i,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);return null==e?[]:Qe(e)}}(t):Ke(t);for(var e=this._groups,n=e.length,i=[],r=[],a=0;a<n;++a)for(var o,s=e[a],l=s.length,u=0;u<l;++u)(o=s[u])&&(i.push(t.call(o,o.__data__,u,s)),r.push(o));return new ti(i,r)},selectChild:function(t){return this.select(null==t?nn:function(t){return function(){return en.call(this.children,t)}}("function"==typeof t?t:tn(t)))},selectChildren:function(t){return this.selectAll(null==t?an:function(t){return function(){return rn.call(this.children,t)}}("function"==typeof t?t:tn(t)))},filter:function(t){"function"!=typeof t&&(t=Ze(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a,o=e[r],s=o.length,l=i[r]=[],u=0;u<s;++u)(a=o[u])&&t.call(a,a.__data__,u,o)&&l.push(a);return new ti(i,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,dn);var n=e?cn:un,i=this._parents,r=this._groups;"function"!=typeof t&&(t=ln(t));for(var a=r.length,o=new Array(a),s=new Array(a),l=new Array(a),u=0;u<a;++u){var c=i[u],d=r[u],h=d.length,p=Qe(t.call(c,c&&c.__data__,u,i)),f=p.length,m=s[u]=new Array(f),g=o[u]=new Array(f),v=l[u]=new Array(h);n(c,d,m,g,v,p,e);for(var y,w,b=0,x=0;b<f;++b)if(y=m[b]){for(b>=x&&(x=b+1);!(w=g[x])&&++x<f;);y._next=w||null}}return(o=new ti(o,i))._enter=s,o._exit=l,o},enter:function(){return new ti(this._enter||this._groups.map(on),this._parents)},exit:function(){return new ti(this._exit||this._groups.map(on),this._parents)},join:function(t,e,n){var i=this.enter(),r=this,a=this.exit();return i="function"==typeof t?t(i):i.append(t+""),null!=e&&(r=e(r)),null==n?a.remove():n(a),i&&r?i.merge(r).order():r},merge:function(t){if(!(t instanceof ti))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,i=e.length,r=n.length,a=Math.min(i,r),o=new Array(i),s=0;s<a;++s)for(var l,u=e[s],c=n[s],d=u.length,h=o[s]=new Array(d),p=0;p<d;++p)(l=u[p]||c[p])&&(h[p]=l);for(;s<i;++s)o[s]=e[s];return new ti(o,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],a=r.length-1,o=r[a];--a>=0;)(i=r[a])&&(o&&4^i.compareDocumentPosition(o)&&o.parentNode.insertBefore(i,o),o=i);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=hn);for(var n=this._groups,i=n.length,r=new Array(i),a=0;a<i;++a){for(var o,s=n[a],l=s.length,u=r[a]=new Array(l),c=0;c<l;++c)(o=s[c])&&(u[c]=o);u.sort(e)}return new ti(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,a=i.length;r<a;++r){var o=i[r];if(o)return o}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,a=e[n],o=0,s=a.length;o<s;++o)(r=a[o])&&t.call(r,r.__data__,o,a);return this},attr:function(t,e){var n=Ve(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?fn:pn:"function"==typeof e?n.local?yn:vn:n.local?gn:mn)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?bn:"function"==typeof e?_n:xn)(t,e,null==n?"":n)):Mn(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?kn:"function"==typeof e?Sn:Cn)(t,e)):this.node()[t]},classed:function(t,e){var n=An(t+"");if(arguments.length<2){for(var i=Tn(this.node()),r=-1,a=n.length;++r<a;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?$n:e?Nn:Ln)(n,e))},text:function(t){return arguments.length?this.each(null==t?Rn:("function"==typeof t?On:Pn)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?qn:("function"==typeof t?jn:Dn)(t)):this.node().innerHTML},raise:function(){return this.each(Gn)},lower:function(){return this.each(Hn)},append:function(t){var e="function"==typeof t?t:Xe(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Xe(t),i=null==e?Bn:"function"==typeof e?e:Ye(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(Vn)},clone:function(t){return this.select(t?Un:Fn)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,r,a=Xn(t+""),o=a.length;if(!(arguments.length<2)){for(s=e?Yn:Wn,i=0;i<o;++i)this.each(s(a[i],e,n));return this}var s=this.node().__on;if(s)for(var l,u=0,c=s.length;u<c;++u)for(i=0,l=s[u];i<o;++i)if((r=a[i]).type===l.type&&r.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?Kn:Jn)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i,r=t[e],a=0,o=r.length;a<o;++a)(i=r[a])&&(yield i)}};var ii={value:()=>{}};function ri(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new ai(i)}function ai(t){this._=t}function oi(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function si(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function li(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=ii,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}ai.prototype=ri.prototype={constructor:ai,on:function(t,e){var n,i=this._,r=oi(t+"",i),a=-1,o=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<o;)if(n=(t=r[a]).type)i[n]=li(i[n],t.name,e);else if(null==e)for(n in i)i[n]=li(i[n],t.name,null);return this}for(;++a<o;)if((n=(t=r[a]).type)&&(n=si(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ai(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),a=0;a<n;++a)r[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,n=(i=this._[t]).length;a<n;++a)i[a].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,a=i.length;r<a;++r)i[r].value.apply(e,n)}};var ui,ci,di=0,hi=0,pi=0,fi=0,mi=0,gi=0,vi="object"==typeof performance&&performance.now?performance:Date,yi="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function wi(){return mi||(yi(bi),mi=vi.now()+gi)}function bi(){mi=0}function xi(){this._call=this._time=this._next=null}function _i(t,e,n){var i=new xi;return i.restart(t,e,n),i}function Mi(){mi=(fi=vi.now())+gi,di=hi=0;try{!function(){wi(),++di;for(var t,e=ui;e;)(t=mi-e._time)>=0&&e._call.call(null,t),e=e._next;--di}()}finally{di=0,function(){var t,e,n=ui,i=1/0;for(;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:ui=e);ci=t,Ci(i)}(),mi=0}}function ki(){var t=vi.now(),e=t-fi;e>1e3&&(gi-=e,fi=t)}function Ci(t){di||(hi&&(hi=clearTimeout(hi)),t-mi>24?(t<1/0&&(hi=setTimeout(Mi,t-vi.now()-gi)),pi&&(pi=clearInterval(pi))):(pi||(fi=vi.now(),pi=setInterval(ki,1e3)),di=1,yi(Mi)))}function Si(t,e,n){var i=new xi;return e=null==e?0:+e,i.restart((n=>{i.stop(),t(n+e)}),e,n),i}xi.prototype=_i.prototype={constructor:xi,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?wi():+n)+(null==e?0:+e),this._next||ci===this||(ci?ci._next=this:ui=this,ci=this),this._call=t,this._time=n,Ci()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ci())}};var Ai=ri("start","end","cancel","interrupt"),Ti=[];function zi(t,e,n,i,r,a){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(t,e,n){var i,r=t.__transition;function a(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}function o(a){var u,c,d,h;if(1!==n.state)return l();for(u in r)if((h=r[u]).name===n.name){if(3===h.state)return Si(o);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[u]):+u<e&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[u])}if(Si((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(a))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,i=new Array(d=n.tween.length),u=0,c=-1;u<d;++u)(h=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=h);i.length=c+1}}function s(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(l),n.state=5,1),a=-1,o=i.length;++a<o;)i[a].call(t,r);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var i in n.state=6,n.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=n,n.timer=_i(a,0,n.time)}(t,n,{name:e,index:i,group:r,on:Ai,tween:Ti,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function Ii(t,e){var n=Ni(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function Ei(t,e){var n=Ni(t,e);if(n.state>3)throw new Error("too late; already running");return n}function Ni(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Li(t,e){var n,i;return function(){var r=Ei(this,t),a=r.tween;if(a!==n)for(var o=0,s=(i=n=a).length;o<s;++o)if(i[o].name===e){(i=i.slice()).splice(o,1);break}r.tween=i}}function $i(t,e,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var a=Ei(this,t),o=a.tween;if(o!==i){r=(i=o).slice();for(var s={name:e,value:n},l=0,u=r.length;l<u;++l)if(r[l].name===e){r[l]=s;break}l===u&&r.push(s)}a.tween=r}}function Ri(t,e,n){var i=t._id;return t.each((function(){var t=Ei(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Ni(t,i).value[e]}}function Pi(t,e){var n;return("number"==typeof e?ee:e instanceof Rt?Jt:(n=Rt(e))?(e=n,Jt):ae)(t,e)}function Oi(t){return function(){this.removeAttribute(t)}}function qi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Di(t,e,n){var i,r,a=n+"";return function(){var o=this.getAttribute(t);return o===a?null:o===i?r:r=e(i=o,n)}}function ji(t,e,n){var i,r,a=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===i?r:r=e(i=o,n)}}function Gi(t,e,n){var i,r,a;return function(){var o,s,l=n(this);if(null!=l)return(o=this.getAttribute(t))===(s=l+"")?null:o===i&&s===r?a:(r=s,a=e(i=o,l));this.removeAttribute(t)}}function Hi(t,e,n){var i,r,a;return function(){var o,s,l=n(this);if(null!=l)return(o=this.getAttributeNS(t.space,t.local))===(s=l+"")?null:o===i&&s===r?a:(r=s,a=e(i=o,l));this.removeAttributeNS(t.space,t.local)}}function Bi(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Vi(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Fi(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&Vi(t,r)),n}return r._value=e,r}function Ui(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&Bi(t,r)),n}return r._value=e,r}function Xi(t,e){return function(){Ii(this,t).delay=+e.apply(this,arguments)}}function Wi(t,e){return e=+e,function(){Ii(this,t).delay=e}}function Yi(t,e){return function(){Ei(this,t).duration=+e.apply(this,arguments)}}function Qi(t,e){return e=+e,function(){Ei(this,t).duration=e}}function Ji(t,e){if("function"!=typeof e)throw new Error;return function(){Ei(this,t).ease=e}}function Ki(t,e,n){var i,r,a=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Ii:Ei;return function(){var o=a(this,t),s=o.on;s!==i&&(r=(i=s).copy()).on(e,n),o.on=r}}var Zi=ei.prototype.constructor;function tr(t){return function(){this.style.removeProperty(t)}}function er(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function nr(t,e,n){var i,r;function a(){var a=e.apply(this,arguments);return a!==r&&(i=(r=a)&&er(t,a,n)),i}return a._value=e,a}function ir(t){return function(e){this.textContent=t.call(this,e)}}function rr(t){var e,n;function i(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&ir(i)),e}return i._value=t,i}var ar=0;function or(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function sr(t){return ei().transition(t)}function lr(){return++ar}var ur=ei.prototype;or.prototype=sr.prototype={constructor:or,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Ye(t));for(var i=this._groups,r=i.length,a=new Array(r),o=0;o<r;++o)for(var s,l,u=i[o],c=u.length,d=a[o]=new Array(c),h=0;h<c;++h)(s=u[h])&&(l=t.call(s,s.__data__,h,u))&&("__data__"in s&&(l.__data__=s.__data__),d[h]=l,zi(d[h],e,n,h,d,Ni(s,n)));return new or(a,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Ke(t));for(var i=this._groups,r=i.length,a=[],o=[],s=0;s<r;++s)for(var l,u=i[s],c=u.length,d=0;d<c;++d)if(l=u[d]){for(var h,p=t.call(l,l.__data__,d,u),f=Ni(l,n),m=0,g=p.length;m<g;++m)(h=p[m])&&zi(h,e,n,m,p,f);a.push(p),o.push(l)}return new or(a,o,e,n)},filter:function(t){"function"!=typeof t&&(t=Ze(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var a,o=e[r],s=o.length,l=i[r]=[],u=0;u<s;++u)(a=o[u])&&t.call(a,a.__data__,u,o)&&l.push(a);return new or(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,a=Math.min(i,r),o=new Array(i),s=0;s<a;++s)for(var l,u=e[s],c=n[s],d=u.length,h=o[s]=new Array(d),p=0;p<d;++p)(l=u[p]||c[p])&&(h[p]=l);for(;s<i;++s)o[s]=e[s];return new or(o,this._parents,this._name,this._id)},selection:function(){return new Zi(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=lr(),i=this._groups,r=i.length,a=0;a<r;++a)for(var o,s=i[a],l=s.length,u=0;u<l;++u)if(o=s[u]){var c=Ni(o,e);zi(o,t,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new or(i,this._parents,t,n)},call:ur.call,nodes:ur.nodes,node:ur.node,size:ur.size,empty:ur.empty,each:ur.each,on:function(t,e){var n=this._id;return arguments.length<2?Ni(this.node(),n).on.on(t):this.each(Ki(n,t,e))},attr:function(t,e){var n=Ve(t),i="transform"===n?fe:Pi;return this.attrTween(t,"function"==typeof e?(n.local?Hi:Gi)(n,i,Ri(this,"attr."+t,e)):null==e?(n.local?qi:Oi)(n):(n.local?ji:Di)(n,i,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=Ve(t);return this.tween(n,(i.local?Fi:Ui)(i,e))},style:function(t,e,n){var i="transform"==(t+="")?pe:Pi;return null==e?this.styleTween(t,function(t,e){var n,i,r;return function(){var a=Mn(this,t),o=(this.style.removeProperty(t),Mn(this,t));return a===o?null:a===n&&o===i?r:r=e(n=a,i=o)}}(t,i)).on("end.style."+t,tr(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var i,r,a;return function(){var o=Mn(this,t),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(t),l=s=Mn(this,t)),o===l?null:o===i&&l===r?a:(r=l,a=e(i=o,s))}}(t,i,Ri(this,"style."+t,e))).each(function(t,e){var n,i,r,a,o="style."+e,s="end."+o;return function(){var l=Ei(this,t),u=l.on,c=null==l.value[o]?a||(a=tr(e)):void 0;u===n&&r===c||(i=(n=u).copy()).on(s,r=c),l.on=i}}(this._id,t)):this.styleTween(t,function(t,e,n){var i,r,a=n+"";return function(){var o=Mn(this,t);return o===a?null:o===i?r:r=e(i=o,n)}}(t,i,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,nr(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Ri(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,rr(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=Ni(this.node(),n).tween,a=0,o=r.length;a<o;++a)if((i=r[a]).name===t)return i.value;return null}return this.each((null==e?Li:$i)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Xi:Wi)(e,t)):Ni(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Yi:Qi)(e,t)):Ni(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Ji(e,t)):Ni(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;Ei(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,i=n._id,r=n.size();return new Promise((function(a,o){var s={value:o},l={value:function(){0==--r&&a()}};n.each((function(){var n=Ei(this,i),r=n.on;r!==t&&((e=(t=r).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),n.on=e})),0===r&&a()}))},[Symbol.iterator]:ur[Symbol.iterator]};var cr={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function dr(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}ei.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,i,r,a=t.__transition,o=!0;if(a){for(r in e=null==e?null:e+"",a)(n=a[r]).name===e?(i=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete a[r]):o=!1;o&&delete t.__transition}}(this,t)}))},ei.prototype.transition=function(t){var e,n;t instanceof or?(e=t._id,t=t._name):(e=lr(),(n=cr).time=wi(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,a=0;a<r;++a)for(var o,s=i[a],l=s.length,u=0;u<l;++u)(o=s[u])&&zi(o,t,e,u,s,n||dr(o,e));return new or(i,this._parents,t,e)};var hr=function(i){function a(){return i.apply(this,arguments)||this}o(a,i);var s=a.prototype;return s.onInit=function(){var t=this;this.loadChart$().pipe(n.first()).subscribe((function(e){t.data=t.item.graph.data}))},s.onChanges=function(){var e=this;this.chart&&this.chart.remove(),this.to&&clearTimeout(this.to),this.to=setTimeout((function(){if(e.isVisible){var n=e.item.graph.data,i=e.item.graph.format,r=e.chart=e.makeChart(n,i);t.getContext(e).node.querySelector(".graph").appendChild(r)}}),200)},s.loadChart$=function(){return e.from(fetch("data/fatturato.csv").then((function(t){return t.text()})).then((function(t){var e=t.split("\n"),n=e.shift().split(",").map((function(t){return JSON.parse(t)}));return e.filter((function(t){return t.length>0})).map((function(t){var e={},i=t.split(",");return n.forEach((function(t,n){e[t]=JSON.parse(i[n])})),e}))})))},s.getTransition=function(){return sr().duration(750).ease(ht)},s.makeChart=function(t,e){var n="#114895",i=30,r=0,a=30,o=40,s=gt().domain(nt(t.length)).range([o,600-r]).padding(.1),l=Ge().domain([0,et(t,(function(t){return t.value}))]).nice().range([500-a,i]),u=ni("svg").attr("viewBox",[0,0,600,500]);return u.append("g").attr("fill",n).selectAll("rect").data(t).join("rect").attr("rx",4.5).attr("x",(function(t,e){return s(e)})).attr("width",s.bandwidth()).attr("y",(function(t){return l(t.value)+l(0)-l(t.value)})).transition().duration(450).ease(ht).delay((function(t,e){return 50*e})).attr("y",(function(t){return l(t.value)})).attr("height",(function(t){return l(0)-l(t.value)})),u.append("g").attr("fill",n).selectAll("text").data(t).join("text").attr("dy",".75em").attr("x",(function(t,e){return s(e)+s.bandwidth()/2})).attr("y",(function(t){return l(t.value)-30})).attr("opacity","0").attr("text-anchor","middle").attr("font-size","1.8rem").attr("font-weight","700").text((function(t){return e.replace("%",t.value)})).transition().duration(350).ease(ht).delay((function(t,e){return 450+50*e})).attr("y",(function(t){return l(t.value)-20})).attr("opacity","1"),u.append("g").call((function(e){return e.attr("transform","translate(0,"+(500-a)+")").call((n=s,dt(3,n)).tickFormat((function(e){return t[e].name})).tickSizeOuter(0)).attr("font-size","1.8rem").attr("font-weight","700");var n})),u.node()},r(a,[{key:"isVisible",get:function(){var e=t.getContext(this).node.getBoundingClientRect();return e.left<window.innerWidth&&e.right>0&&e.top<window.innerHeight&&e.bottom>0}}]),a}(t.Component);hr.meta={selector:"[view-text-graph]",inputs:["item"],template:'\n\t\t<div class="background" *if="item.image">\n\t\t\t<img data-loading="lazy" [src]="item.image" ondragstart="return false;" />\n\t\t</div>\n\t\t\x3c!--\n\t\t<div class="circle" [class]="{ dimmed: item.image }">\n\t\t\t<img src="img/circle.png" />\n\t\t</div>\n\t\t--\x3e\n\t\t<div class="container-fluid" [class]="{ \'negative\': item.image != null }" >\n\t\t\t<div class="row">\n\t\t\t\t<div class="col-md-6" appear-stagger>\n\t\t\t\t\t<div class="title" [innerHTML]="item.title"></div>\n\t\t\t\t\t<div class="abstract" *if="item.abstract" [innerHTML]="item.abstract"></div>\n\t\t\t\t\t<div class="description" *if="item.description" [innerHTML]="item.description"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-md-6">\n\t\t\t\t\t<div class="graph"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t'};var pr=function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),e.prototype.onInit=function(){},e}(t.Component);pr.meta={selector:"[view-text-left]",inputs:["item"],template:'\n\t\t<div class="background" *if="item.image">\n\t\t\t<img data-loading="lazy" [src]="item.image" ondragstart="return false;" />\n\t\t</div>\n\t\t\x3c!--\n\t\t<div class="circle" *if="!item.image">\n\t\t\t<img src="img/circle.png" />\n\t\t</div>\n\t\t--\x3e\n\t\t<div class="container-fluid" [class]="{ \'negative\': item.image != null }" >\n\t\t\t<div class="row">\n\t\t\t\t<div class="col-md-6" appear-stagger>\n\t\t\t\t\t<div class="title" [innerHTML]="item.title"></div>\n\t\t\t\t\t<div class="abstract" *if="item.abstract" [innerHTML]="item.abstract"></div>\n\t\t\t\t\t<div class="description" *if="item.description" [innerHTML]="item.description"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-md-6">\n\t\t\t\t\t<ul class="listing--values" appear-stagger *if="item.list && item.list.length">\n\t\t\t\t\t\t<li class="listing__item" *for="let listItem of item.list"><span [innerHTML]="listItem.title"></span></li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t'};var fr=function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),e.prototype.onInit=function(){},e}(t.Component);fr.meta={selector:"[view-text-map]",inputs:["item"],template:'\n\t\t\x3c!--\n\t\t<div class="circle">\n\t\t\t<img src="img/circle.png" />\n\t\t</div>\n\t\t--\x3e\n\t\t<div class="background" appear-stagger>\n\t\t\t<img data-loading="lazy" [src]="item.image" ondragstart="return false;" />\n\t\t\t<div class="pin" [style]="{ left: pin.x + \'%\', top: pin.y + \'%\' }" *for="let pin of item.pins;">\n\t\t\t\t<div class="title" *if="pin.title" [innerHTML]="pin.title"></div>\n\t\t\t\t<div class="abstract" *if="pin.abstract" [innerHTML]="pin.abstract"></div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="container-fluid" appear-stagger>\n\t\t\t<div class="logo" *if="item.logo"><img [src]="item.logo" /></div>\n\t\t\t<div class="title" *if="item.title" [innerHTML]="item.title"></div>\n\t\t\t<div class="abstract" *if="item.abstract" [innerHTML]="item.abstract"></div>\n\t\t\t<div class="description" *if="item.description" [innerHTML]="item.description"></div>\n\t\t</div>\n\t'};var mr=function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),e.prototype.onInit=function(){},e}(t.Component);mr.meta={selector:"[view-text-right]",inputs:["item"],template:'\n\t\t<div class="background" *if="item.image">\n\t\t\t<img data-loading="lazy" [src]="item.image" ondragstart="return false;" />\n\t\t</div>\n\t\t\x3c!--\n\t\t<div class="circle" [class]="{ dimmed: item.image }">\n\t\t\t<img src="img/circle.png" />\n\t\t</div>\n\t\t--\x3e\n\t\t<div class="container-fluid" [class]="{ \'negative\': item.image != null }" >\n\t\t\t<div class="row">\n\t\t\t\t<div class="col-md-6">\n\t\t\t\t\t<ul class="listing--values" appear-stagger *if="item.list && item.list.length">\n\t\t\t\t\t\t<li class="listing__item" *for="let listItem of item.list"><span [innerHTML]="listItem.title"></span></li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-md-6" appear-stagger>\n\t\t\t\t\t<div class="title" [innerHTML]="item.title"></div>\n\t\t\t\t\t<div class="abstract" *if="item.abstract" [innerHTML]="item.abstract"></div>\n\t\t\t\t\t<div class="description" *if="item.description" [innerHTML]="item.description"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t'};var gr=function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),e.prototype.onInit=function(){},e}(t.Component);gr.meta={selector:"[view-text-two-cols]",inputs:["item"],template:'\n\t\t<div class="background" *if="item.image">\n\t\t\t<img data-loading="lazy" [src]="item.image" ondragstart="return false;" />\n\t\t</div>\n\t\t\x3c!--\n\t\t<div class="circle" *if="!item.image">\n\t\t\t<img src="img/circle.png" />\n\t\t</div>\n\t\t--\x3e\n\t\t<div class="container-fluid" [class]="{ \'negative\': item.image != null }" >\n\t\t\t<div class="row">\n\t\t\t\t<div class="col-md-6" appear-stagger>\n\t\t\t\t\t<div class="title" [innerHTML]="item.title"></div>\n\t\t\t\t\t<div class="abstract" *if="item.abstract" [innerHTML]="item.abstract"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="col-md-6" appear-stagger>\n\t\t\t\t\t<div class="description" *if="item.description" [innerHTML]="item.description"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t'};var vr=function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),e.prototype.onInit=function(){},e}(t.Component);vr.meta={selector:"[view-welcome]",inputs:["item"],template:'\n\t\t\x3c!--\n\t\t<div class="circle">\n\t\t\t<img src="img/circle.png" />\n\t\t</div>\n\t\t--\x3e\n\t\t<div class="logo">\n\t\t\t<img src="img/logo-lg.png" />\n\t\t</div>\n\t'};var yr=function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),e}(t.Module);yr.meta={imports:[t.CoreModule],declarations:[k,O,q,_,G,H,D,j,B,V,F,U,X,hr,pr,fr,mr,gr,vr],bootstrap:M},t.Browser.bootstrap(yr)}));
//# sourceMappingURL=main.min.js.map